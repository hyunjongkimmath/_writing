\begin{definition} \label{definition:stack_in_groupoids_over_a_site}
\TODO{TODO: replace $J$ with $\tau$}
Let $(\mathcal{C}, J)$ be a \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site}. A \hldef{stack in groupoids over $\mathcal{C}$}, often just called a \hldef{stack over $\mathcal{C}$}, is a category fibred in groupoids $p : \mathcal{F} \to \mathcal{C}$ satisfying the following two conditions:

\begin{enumerate}

    \item \textbf{Sheaf condition on morphisms:} For any $U \in \mathcal{C}$ and $x, y \in \mathcal{F}_U$, the presheaf $\underline{\operatorname{Isom}}(x, y)$ on $\mathcal{C}/U$ is a sheaf for the topology $J|_U$.
    \TODO{Isom}

    \item \textbf{Effective descent for objects:} For every $U \in \mathcal{C}$ and every \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{covering sieve} $S \in J(U)$, every \CrefAndHyperrefIfExist{definition:descent_datum_for_a_category_fibered_in_groupoids_over_a_category_relative_to_a_sieve_on_an_object_of_the_base_category}{descent datum} relative to $S$ is \CrefAndHyperrefIfExist{def:effective_descent_datum_for_a_category_fibered_in_groupoids_relative_to_a_sieve_on_an_object_in_the_base_category}{effective}.


\end{enumerate}
Assuming that $J$ is \CrefAndHyperrefIfExist{definition:grothendieck_topology_generated_by_a_pretopology}{generated by} a \CrefAndHyperrefIfExist{definition:basis_and_grothendieck_pretopology_for_a_grothendieck_topology_on_a_category}{pretopology}, the above conditions are tantamount to the following
\begin{enumerate}
    \item \textbf{Descent for morphisms (Sheaf condition on morphisms):} For every object $U \in \mathcal{C}$ and every covering $\{U_i \to U\} \in J$, and any $x, y \in \mathcal{F}_U$,
    the presheaf 
    \[
        V \mapsto \operatorname{Hom}_{\mathcal{F}_V}(x|_V, y|_V)
    \]
    on $(\mathcal{C}/U)$ is a sheaf for the topology induced by $J$.
    \item \textbf{Effective descent for objects:} For every object $U \in \mathcal{C}$ and every covering $\{U_i \to U\} \in J$, given:
    \begin{itemize}
        \item objects $x_i \in \mathcal{F}_{U_i}$ for each $i$,
        \item isomorphisms $\varphi_{ij}: x_i|_{U_{ij}} \to x_j|_{U_{ij}}$ over $U_{ij} = U_i \times_U U_j$,
    \end{itemize}
    satisfying the cocycle condition $\varphi_{jk}|_{U_{ijk}} \circ \varphi_{ij}|_{U_{ijk}} = \varphi_{ik}|_{U_{ijk}}$ on $U_{ijk}$,
    there exists an object $x \in \mathcal{F}_U$ and isomorphisms $\psi_i: x|_{U_i} \to x_i$ such that $\varphi_{ij} \circ \psi_i|_{U_{ij}} = \psi_j|_{U_{ij}}$.
\end{enumerate}
\end{definition}