
% \begin{definition} \label{definition:dual_bundle_of_a_C_k_vector_bundle}

%   \TODO{do this definition for manifolds with boundary}
% Let $k \in \mathbb{N}_0 \cup \{\infty\}$, let $M$ be a $C^k$-manifold, and let $(E, \pi, M)$ be a $C^k$ \hyperrefIfExists{definition:C_k_vector_bundle_on_C_k_manifold}{vector bundle} of rank $r$ over $M$.

% The \hldef{dual bundle of $E$} is the $C^k$ vector bundle \hl{$(E^*, \pi_{E^*}, M)$} where:
% \begin{itemize}
%   \item The \hyperrefIfExists{definition:C_k_vector_bundle_on_C_k_manifold}{total space} 
%   $$ E^* := \bigsqcup_{p \in M} E_p^* $$
%   is the disjoint union of the dual vector spaces $E_p^* := \mathrm{Hom}_{\mathbb{R}}(E_p, \mathbb{R})$ of the fibers $E_p$,
%   \item The \hyperrefIfExists{definition:C_k_vector_bundle_on_C_k_manifold}{projection map} 
%   $$ \pi_{E^*} : E^* \to M $$
%   sends each $\varphi \in E_p^*$ to its base point $p \in M$,
%   \item If $\{(U_\alpha, \phi_\alpha)\}_{\alpha \in A}$ is a system of \hyperrefIfExists{definition:C_k_vector_bundle_on_C_k_manifold}{local trivializations of $E$},
%   $$ \phi_\alpha : \pi^{-1}(U_\alpha) \to U_\alpha \times \mathbb{R}^r, $$
%   then the \hldef{local trivializations of $E^*$} induced by $\phi_\alpha$ are given by
%   $$
%   \phi_\alpha^* : \pi_{E^*}^{-1}(U_\alpha) \to U_\alpha \times (\mathbb{R}^r)^*, 
%   $$
%   defined fiberwise by dualizing the vector space isomorphism 
%   $$
%   \phi_\alpha|_{E_p} : E_p \to \{p\} \times \mathbb{R}^r,
%   $$
%   \TODO{TODO: define dual vector space}
%   where $(\mathbb{R}^r)^* \cong \mathbb{R}^r$ is the standard dual vector space,
%   \item The \hyperrefIfExists{definition:C_k_vector_bundle_on_C_k_manifold}{transition functions of $E^*$ with respect to these trivializations} are given by the inverse transpose of those of $E$, i.e.,
%   $$ t_{\alpha \beta}^*(p) = (t_{\alpha \beta}(p)^T)^{-1} \quad \text{for } p \in U_\alpha \cap U_\beta, $$
%   where $t_{\alpha \beta} : U_\alpha \cap U_\beta \to \mathrm{GL}(r, \mathbb{R})$ are the $C^k$ transition functions of $E$.
% \end{itemize}
% The dual bundle $E^*$ is thus a $C^k$ vector bundle of rank $r$ over $M$.
% \end{definition}



\begin{definition} \label{definition:dual_bundle_of_a_C_k_vector_bundle}
Let $k \in \mathbb{N}_0 \cup \{\infty\}$, let $M$ be a \CrefAndHyperrefIfExist{definition:C_k_manifold}{$C^k$-manifold with or without boundary}, and let $(E, \pi, M)$ be a $C^k$ \hyperrefIfExists{definition:C_k_vector_bundle_on_C_k_manifold_with_or_without_boundary}{vector bundle} of rank $r$ over $M$.
The \hldef{dual bundle of $E$} is the $C^k$ vector bundle \hl{$(E^*, \pi_{E^*}, M)$} defined of rank $r$ as follows:
\begin{itemize}
  \item The \CrefAndHyperrefIfExist{definition:C_k_vector_bundle_on_C_k_manifold}{total space}
  $$ E^* := \bigsqcup_{p \in M} E_p^* $$
  is the disjoint union of the \CrefAndHyperrefIfExist{definition:dual_of_a_left_right_two_sided_module}{dual vector spaces $E_p^* := \mathrm{Hom}_\mathbb{R}(E_p, \mathbb{R})$} of the \CrefAndHyperrefIfExist{definition:fiber_of_a_map_of_topological_spaces_over_a_point}{fibers} $E_p$.
  
  \item The \CrefAndHyperrefIfExist{definition:C_k_vector_bundle_on_C_k_manifold}{projection map}
  $$ \pi_{E^*} : E^* \to M $$
  sends each $\varphi \in E_p^*$ to its base point $p \in M$.
  
  \item If $\{(U_\alpha, \phi_\alpha)\}_{\alpha \in A}$ is a system of \CrefAndHyperrefIfExist{definition:C_k_vector_bundle_on_C_k_manifold}{local trivializations} of $E$ over \CrefAndHyperrefIfExist{definition:chart_on_a_topological_manifold}{coordinate charts} $(U_\alpha, \psi_\alpha)$ compatible with the manifold structure (allowing charts modeled on open subsets of $\mathbb{R}^n_+$ near $\partial M$), where
  $$ \phi_\alpha : \pi^{-1}(U_\alpha) \to U_\alpha \times \mathbb{R}^r, $$
  then the \hldef{induced local trivializations of $E^*$} are defined by
  $$
  \phi_\alpha^* : \pi_{E^*}^{-1}(U_\alpha) \to U_\alpha \times (\mathbb{R}^r)^*,
  $$
  determined fiberwise by dualizing the linear isomorphisms
  $$
  (\phi_\alpha)|_{E_p} : E_p \to \{p\} \times \mathbb{R}^r,
  $$
  and hence $(\mathbb{R}^r)^* \cong \mathbb{R}^r$.
  
  \item The \CrefAndHyperrefIfExist{definition:C_k_vector_bundle_on_C_k_manifold}{transition functions} of $E^*$ relative to these trivializations are given by the inverse transpose of those of $E$:
  $$
  t_{\alpha\beta}^*(p) = (t_{\alpha\beta}(p)^T)^{-1}, \quad p \in U_\alpha \cap U_\beta,
  $$
  where $t_{\alpha\beta} : U_\alpha \cap U_\beta \to \mathrm{GL}(r, \mathbb{R})$ are the $C^k$ transition functions of $E$.
\end{itemize}
\end{definition}

