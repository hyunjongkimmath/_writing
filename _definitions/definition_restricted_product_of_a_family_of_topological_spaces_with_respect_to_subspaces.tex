\begin{definition}\label{definition:restricted_product_of_a_family_of_topological_spaces_with_respect_to_subspaces}
Let $\{X_i\}_{i \in I}$ be a family of topological spaces indexed by a set $I$. For each $i \in I$, let $K_i \subseteq X_i$ be a topological subspace.

The \hldef{restricted product topology} on the \hyperrefIfExists{definition:restricted_product_of_a_family_of_sets_with_respect_to_a_family_of_distinguished_subsets}{restricted product}
$$ \prod_{i \in I}' X_i := \left\{ (x_i)_{i \in I} \in \prod_{i \in I} X_i \;\middle|\; x_i \in K_i \text{ for all but finitely many } i \in I \right\}, $$
with respect to the subsets $\{K_i\}_{i \in I}$, is the coarsest topology such that:
\begin{itemize}
    \item The natural inclusion maps $X_j \to \prod_{i \in I}' X_i$, defined by $x_j \mapsto (y_i)$ where $y_j = x_j$ and $y_i = k_i$ (a fixed element in $K_i$) for all $i \neq j$, are continuous for all $j \in I$.
    \item The subspace topology on the product $\prod_{i \in F} X_i$ for any finite subset $F \subseteq I$ (where coordinates outside $F$ are fixed in $K_i$) coincides with the product topology on finitely many factors.
\end{itemize}
Equivalently, the restricted product topology is generated by the base consisting of sets of the form
$$ \prod_{i \in F} U_i \times \prod_{i \notin F} K_i, $$
where $F \subseteq I$ is finite, $U_i$ are open sets in $X_i$, and outside $F$ the coordinates lie in $K_i$.
\end{definition}

