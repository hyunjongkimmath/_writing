\begin{definition} \label{definition:algebra_over_a_sheaf_of_rings_on_a_site}
Let $(\mathcal{C}, J)$ be a \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site}. Let $\mathcal{O}$ be a \CrefAndHyperrefIfExist{definition:sheaf_on_a_site}{sheaf of commutative rings on $(\mathcal{C}, J)$}, i.e., $((\mathcal{C}, J), \mathcal{O})$ is a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site}.  

\begin{enumerate}
    \item An \hldef{$\mathcal{O}$-algebra} consists of the following data:
    \begin{itemize}
        \item A sheaf $\mathcal{A}$ of (not necessarily commutative) rings on $(\mathcal{C}, J)$,
        \item A morphism of sheaves of rings $\eta: \mathcal{O} \to \mathcal{A}$ such that for every object $U \in \mathcal{C}$, the image of $\eta_U: \mathcal{O}(U) \to \mathcal{A}(U)$ is contained in the center of $\mathcal{A}(U)$.
    \end{itemize}
    This makes $\mathcal{A}(U)$ an $\mathcal{O}(U)$-algebra for every $U \in \mathcal{C}$, such that for every morphism $f: V \to U$ in $\mathcal{C}$, the restriction map 
    $$\rho_{U,V}: \mathcal{A}(U) \to \mathcal{A}(V)$$ 
    is a homomorphism of $\mathcal{O}(U)$-algebras (where the $\mathcal{O}(U)$-algebra structure on $\mathcal{A}(V)$ is induced via restriction $\mathcal{O}(U) \to \mathcal{O}(V)$).

    \item Let $\mathcal{A}$ and $\mathcal{B}$ be \CrefAndHyperrefIfExist{definition:algebra_over_a_sheaf_of_rings_on_a_site}{$\mathcal{O}$-algebras}.

    A \hldef{morphism of $\mathcal{O}$-algebras} $\varphi: \mathcal{A} \to \mathcal{B}$ is a \CrefAndHyperrefIfExist{definition:sheaf_on_a_site}{morphism of sheaves} of rings such that, for every object $U \in \mathcal{C}$, the component map
    $$\varphi_U : \mathcal{A}(U) \to \mathcal{B}(U)$$
    is a homomorphism of $\mathcal{O}(U)$-algebras, i.e., it is a ring homomorphism that commutes with the structure maps $\eta_{\mathcal{A}}$ and $\eta_{\mathcal{B}}$:
    $$\varphi_U(\eta_{\mathcal{A}, U}(r)) = \eta_{\mathcal{B}, U}(r) \quad \text{for all } r \in \mathcal{O}(U).$$
\end{enumerate}

The collection of all $\mathcal{O}$-algebras together with their morphisms forms the \hldef{category of $\mathcal{O}$-algebras}, denoted by notations such as \hl{$\mathbf{Alg}(\mathcal{O})$}.
\end{definition}