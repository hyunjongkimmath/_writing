
\section{Definitions}

\subsection{\'Etale morphisms of schemes}

% \import{../_notations/}{notation_Sch_S_as_the_category_of_schemes_over_a_scheme.tex}
\input{../_notations/notation_Sch_S_as_the_category_of_schemes_over_a_scheme.tex}


\input{../_definitions/definition_locally_of_finite_presentation_finite_presentation_morphism_of_schemes.tex}
\input{../_definitions/definition_flat_left_right_module_over_a_ring.tex}
\input{../_definitions/definition_flat_morphism_of_schemes.tex}
\input{../_definitions/definition_unramified_morphism_of_schemes.tex}
\input{../_definitions/definition_etale_morphism_of_schemes.tex}

\input{../_definitions/definition_automorphism_group_of_a_scheme_over_a_scheme.tex}

\input{../_definitions/definition_finite_morphism_of_schemes.tex}

\input{../_definitions/definition_galois_morphism_of_schemes.tex}




\section{The \'etale fundamental group of a scheme at a geometric point}

% \begin{notation}
% Let $S$ be a connected, locally noetherian scheme. Let $\Sch/S$ denote the category of schemes over $S$ with morphisms over $S$. For an $S$-scheme $X$, denote by $\pi_1^{et}(X, \bar{x})$ the \emph{\'etale fundamental group} of $X$ based at a geometric point $\bar{x} : \Spec(\Omega) \to X$, where $\Omega$ is a separably closed field.
% \end{notation}



\input{../_definitions/definition_geometric_point_of_a_scheme.tex}

\input{../_definitions/definition_etale_fundamental_group_of_a_connected_scheme.tex}

\input{../_concepts/theorem_finite_etale_covers_of_a_connected_scheme_correspond_to_finite_sets_with_an_action_of_the_etale_fundamental_group.tex}

\section{Sheaves on the small \'etale site of a scheme}

We define presheaves generally.

\input{../_definitions/definition_presheaf_on_a_category.tex}

We can speak of sheaves on a general site.

We will be interested in sheaves of sets/abelian groups/$R$-modules on the \CrefAndHyperrefIfExist{definition:small_etale_site_of_a_scheme}{small \'etale site $X_{\et}$} of any scheme as $X_{\et}$ is \CrefAndHyperrefIfExist{definition:essentially_small_category}{essentially small}.

\input{../_definitions/definition_sheaf_on_a_site.tex}


\subsection{The small and big \'Etale sites of a scheme}
\input{../_definitions/definition_big_site_on_the_category_of_schemes_over_a_scheme_and_small_site.tex}

\input{../_definitions/definition_big_etale_site_of_a_scheme.tex}
\input{../_definitions/definition_small_etale_site_of_a_scheme.tex}

\subsection{Other common sites of schemes}

\input{../_definitions/definition_grothendieck_topology_generated_by_a_pretopology.tex}
\input{../_definitions/definition_basis_and_grothendieck_pretopology_for_a_grothendieck_topology_on_a_category.tex}
\begin{definition}[Big Zariski site] \label{definition:big_zariski_site_of_a_scheme}
    Let $S$ be a scheme. The \hldef{big Zariski site of $S$}, denoted by \hl{$(\mathrm{Sch}/S)_{\mathrm{Zar}}$}, is the \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site} whose underlying category is the cateogry of $S$-schemes and whose Grothendieck topology is the one \CrefAndHyperrefIfExist{definition:grothendieck_topology_generated_by_a_pretopology}{generated by} the \CrefAndHyperrefIfExist{definition:basis_and_grothendieck_pretopology_for_a_grothendieck_topology_on_a_category}{pretopology} whose coverings are families of morphisms
    $$ \{ f_i : U_i \to U \}_{i \in I} $$
    such that each $f_i$ is an \CrefAndHyperrefIfExist{definition:open_and_closed_immersions_of_schemes}{open immersion} and the images $\{ f_i(U_i) \}_{i \in I}$ form an open cover of $U$. 
    Such a covering is called a \hldef{Zariski covering of $U$}.
    
    Equivalently, the big Zariski site of $S$ is the \CrefAndHyperrefIfExist{definition:big_site_on_the_category_of_schemes_over_a_scheme_and_small_site}{big site on the category of schemes over $S$} for the class of open immersions.
\end{definition}

\begin{definition}[Small Zariski site] \label{definition:small_zariski_site_of_a_schem}
    Let $X$ be a scheme. The \hldef{small Zariski site of $X$}, denoted by \hl{$X_{\mathrm{Zar}}$}, is the \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site} 
    
    whose underlying category consists of open subschemes $U \subseteq X$, with inclusions as morphisms,
    and whose Grothendieck topology is the one \CrefAndHyperrefIfExist{definition:grothendieck_topology_generated_by_a_pretopology}{generated by} the \CrefAndHyperrefIfExist{definition:basis_and_grothendieck_pretopology_for_a_grothendieck_topology_on_a_category}{pretopology} whose coverings are families of \CrefAndHyperrefIfExist{definition:open_and_closed_immersions_of_schemes}{open immersions}
    $$ \{ U_i \to U \}_{i \in I} $$
    such that the $U_i$ form an open cover of $U$ in the usual topological sense. 

    Equivalently, the small Zariski site of $X$ is the \CrefAndHyperrefIfExist{definition:big_site_on_the_category_of_schemes_over_a_scheme_and_small_site}{small site on the category of schemes over $X$} for the class of open immersions. 

    Also equivalently, the small Zariski site of $X$ is the \CrefAndHyperrefIfExist{definition:site_of_opens_on_a_topological_space}{Site of opens of $X$} as a topological space.
\end{definition}



\input{../_definitions/definition_faithfully_flat_morphism_of_schemes.tex}

\begin{definition}[big fppf site] \label{definition:big_fppf_site_over_a_scheme}
    Let $S$ be a scheme. The \hldef{big fppf site of $S$}, denoted by $(\mathrm{Sch}/S)_{\mathrm{fppf}}$, is the following \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site}:
    \begin{itemize}
        \item The underlying category is the category \hyperrefIfExists{notation:Sch_S_as_the_category_of_schemes_over_a_scheme}{$\Sch/S$} of all schemes over $S$.

        \item The Grothendieck topology is the one \CrefAndHyperrefIfExist{definition:grothendieck_topology_generated_by_a_pretopology}{generated by} the \CrefAndHyperrefIfExist{definition:basis_and_grothendieck_pretopology_for_a_grothendieck_topology_on_a_category}{pretopology} whose coverings are families of morphisms $\{f_i: X_i \to X\}_{i \in I}$ in $\Sch/S$ is a covering family in $(\mathrm{Sch}/S)_{\mathrm{fppf}}$ if each $f_i$ is a \CrefAndHyperrefIfExist{definition:flat_morphism_of_schemes}{flat} morphism of \CrefAndHyperrefIfExist{definition:finitely_presented_algebra_over_a_not_necessarily_commutative_ring}{locally of finite presentation} such that $\bigcup_i f_i(X_i) = f(X)$. Such a cover is called an \hldef{fppf cover of $X$}.

    \end{itemize}
    Equivalently, the big fppf site of $S$ is the \CrefAndHyperrefIfExist{definition:big_site_on_the_category_of_schemes_over_a_scheme_and_small_site}{big site on $S$} for the class of \CrefAndHyperrefIfExist{definition:flat_morphism_of_schemes}{flat} and \CrefAndHyperrefIfExist{definition:locally_of_finite_presentation_finite_presentation_morphism_of_schemes}{locally of finite presentation} morphisms. 

    fppf stands for \emph{fid\`element plate de pr\'esentation finie}, which translates to faithfully flat and of finite presentation; note however, that the morphisms in an fppf cover are flat and locally of finite presentation, not \CrefAndHyperrefIfExist{definition:faithfully_flat_morphism_of_schemes}{faithfully flat} and of \CrefAndHyperrefIfExist{definition:finitely_presented_algebra_over_a_not_necessarily_commutative_ring}{finite presentation}.
\end{definition}

\begin{definition}[small fppf site] \label{definition:small_fppf_site_of_a_scheme}
    Let $X$ be a fixed scheme. The \hldef{small fppf site on $X$}, commonly denoted by notations including \hl{$X_{fppf}$}, or \hl{$\mathrm{fppf}_{/X}$}, is defined as the following \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site}:
    \begin{itemize}
        \item The underlying category is the full subcategory of the \CrefAndHyperrefIfExist{definition:big_fppf_site_over_a_scheme}{big étale site $(\Sch/X)_{\mathrm{fppf}}$} whose objects are schemes $U$ equipped with a \TODO{}
        
        \TODO{}
        \item The Grothendieck topology is the one \CrefAndHyperrefIfExist{definition:grothendieck_topology_generated_by_a_pretopology}{generated by} the \CrefAndHyperrefIfExist{definition:basis_and_grothendieck_pretopology_for_a_grothendieck_topology_on_a_category}{pretopology} whose coverings are families of morphisms $\{g_j : U_j \to U\}_{j \in J}$ in this category is a covering family in $X_{\et}$ if each $g_j$ is \hyperrefIfExists{definition:etale_morphism_of_schemes}{\'etale}\CrefIfExists{definition:etale_morphism_of_schemes} and the family is jointly surjective on the underlying topological spaces.
    \end{itemize}
    \TextIfExists{definition:big_site_on_the_category_of_schemes_over_a_scheme_and_small_site}{Equivalently, the small fppfsite on $X$ is the \CrefAndHyperrefIfExist{definition:big_site_on_the_category_of_schemes_over_a_scheme_and_small_site}{small site for morphisms that are flat and locally of finite presentation on $X$}.}
    \TODO{state this as a fact}
    $X_{fppf}$ is an \CrefAndHyperrefIfExist{definition:essentially_small_category}{essentially small category}.
\end{definition}

\begin{definition}[big fpqc site] \label{definition:big_fpqc_site_of_a_scheme}
    \TODO{}
Let $S$ be a scheme. The \hldef{big fpqc site of $S$}, denoted by \hl{$(\mathrm{Sch}/S)_{\mathrm{fpqc}}$}, is following \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site}:
\begin{enumerate}
    \item The underlying category is the category \hyperrefIfExists{notation:Sch_S_as_the_category_of_schemes_over_a_scheme}{$\Sch/S$} of all schemes over $S$.

    \item A family of morphisms $\{f_i: X_i \to X\}_{i \in I}$ in $\Sch/S$ is a covering family in $(\mathrm{Sch}/S)_{\mathrm{fpqc}}$ if 
    \begin{itemize}
        \item each $f_i$ is a \CrefAndHyperrefIfExist{definition:flat_morphism_of_schemes}{flat} morphism 
        \item for each affine open $U \subseteq X$, there exists a finite subset $J \subseteq I$ and affineo pen subsets $U_j \subseteq X_j$ for each $j \in J$ such that $U = \bigcup_{j \in J} f_j(U_j)$. 
        % exists a finite set $K$, a map $i: K \to I$, and affine opens $U_{i(k)} \subseteq T_{i(k)}$ such that $U = \bigcup_{k \in K} \varphi_{i(k)}(U_{i(k)})$
        % of \CrefAndHyperrefIfExist{definition:finitely_presented_algebra_over_a_not_necessarily_commutative_ring}{locally of finite presentation} such that $\bigcup_i f_i(X_i) = f(X)$. Such a cover is called an \hldef{fppf cover of $X$}.
    \end{itemize}
    Such a cover is called an \hldef{fpqc cover of $X$}.
\end{enumerate}
\end{definition}

\begin{definition}[Small fpqc site] \label{definition:small_fpqc_site_of_a_schem}
    \TODO{}
    Let $X$ be a scheme. The \hldef{small fpqc site of $X$}, denoted by \hl{$X_{\mathrm{fpqc}}$},
    is the site whose underlying category consists of schemes $U$ equipped with a morphism
    $$
    U \longrightarrow X,
    $$
    such that the morphism is \hldef{flat} and \hldef{quasi-compact} and whose Grothendieck topology is the one \CrefAndHyperrefIfExist{definition:grothendieck_topology_generated_by_a_pretopology}{generated by} the \CrefAndHyperrefIfExist{definition:basis_and_grothendieck_pretopology_for_a_grothendieck_topology_on_a_category}{pretopology} whose coverings are families of morphisms
    $$
    \{f_i : U_i \to U\}_{i \in I}
    $$
    over $X$ such that

    \begin{enumerate}
        \item Each $f_i$ is \hldef{faithfully flat}.
        \item Each $f_i$ is \hldef{quasi-compact}.
        \item The images of the family jointly cover $U$; that is,
        $$
        \bigcup_{i \in I} f_i(U_i) = U.
        $$
        \item For every affine open $V \subseteq U$, there exists a finite subset $J \subseteq I$ and affine opens $V_j \subseteq U_j$, for $j \in J$, such that
        $$
        V = \bigcup_{j \in J} f_j(V_j).
        $$
    \end{enumerate}

    This topology is called the \hldef{fpqc topology} (faithfully flat and quasi-compact).
\end{definition}


\input{../_definitions/definition_elementary_distinguished_square_in_the_category_of_somoth_schemes_over_a_scheme.tex}
\input{../_concepts/proposition_nisnevich_pretopology_on_the_category_of_smooth_schemes_over_a_scheme.tex}
\input{../_definitions/definition_nisnevich_topology_on_a_noetherian_scheme_of_finite_dimension.tex}

% \begin{definition}[Nisnevich covering]
%     Let $X$ be a scheme. A family of étale morphisms
%     $$
%     \{ f_i: U_i \to U \}
%     $$
%     in the category of schemes over $X$ is called a \hldef{Nisnevich covering} if for every point $x \in U$ there exists an index $i$ and a point $u \in U_i$ such that 
%     $$
%     f_i(u) = x
%     $$
%     and the induced extension of residue fields
%     $$
%     k(x) \to k(u)
%     $$
%     is an isomorphism.
% \end{definition}

\begin{definition}[Small Nisnevich site] \label{definition:small_nisnevich_site_of_a_schem}
    Let $X$ be a scheme.
    The \hldef{small Nisnevich site of $X$}, denoted by
    $$ X_{\mathrm{Nis}}, $$
    is the site whose underlying category consists of schemes $U$ equipped with an \CrefAndHyperrefIfExist{definition:etale_morphism_of_schemes}{étale morphism}
    $$ U \to X, $$
    and whose Grothendieck topology is the one \CrefAndHyperrefIfExist{definition:grothendieck_topology_generated_by_a_pretopology}{generated by} the \CrefAndHyperrefIfExist{definition:basis_and_grothendieck_pretopology_for_a_grothendieck_topology_on_a_category}{Grothendieck pretopology} whose coverings are given by \CrefAndHyperrefIfExist{definition:nisnevich_topology_on_a_noetherian_scheme_of_finite_dimension}{Nisnevich coverings}.
\end{definition}




\begin{definition}[crystalline site]
    \TODO{}
Let $S$ be a scheme and $p$ a prime number. 
Let $\mathcal{C}=\mathrm{CRIS}(S/\mathbf{Z}_p)$ denote the category whose objects are triples $(U,T,\delta)$ where 
\begin{itemize}
    \item $U$ is an open subscheme of $S$,
    \item $T$ is a scheme equipped with a divided power structure $\delta$ on an ideal $\mathcal{I} \subseteq \mathcal{O}_T$,
    \item together with a closed immersion $U \hookrightarrow T$ compatible with $\delta$ (called a PD-thickening).
\end{itemize}
The \hldef{crystalline site} $(S/\mathbf{Z}_p)_{\mathrm{cris}}$ is this category equipped with the \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{Grothendieck topology} \CrefAndHyperrefIfExist{definition:grothendieck_topology_generated_by_a_pretopology}{generated by} families of morphisms $\{(U_i,T_i,\delta_i) \to (U,T,\delta)\}$ such that the underlying morphisms of the $T_i \to T$ form a Zariski open cover of $T$.
\end{definition}


\begin{theorem}[Hierarchy of Grothendieck topologies on $\mathrm{Sch}/S$] \label{theorem:hierarchy_of_common_grothendieck_topologies_on_Sch_S}
    Let $S$ be a scheme and consider the following \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{Grothendieck topologies} on the category \CrefAndHyperrefIfExist{definition:scheme_over_a_scheme}{$\mathrm{Sch}/S$ of schemes over $S$}:
    \[
    \mathrm{Zar} \quad \text{(Zariski)}, \quad \mathrm{Nis} \quad \text{(Nisnevich)}, \quad \mathrm{\acute{E}t} \quad \text{(étale)}, \quad \mathrm{fppf}, \quad \mathrm{fpqc}.
    \]
    (\Cref{definition:big_zariski_site_of_a_scheme}, \Cref{definition:nisnevich_topology_on_a_noetherian_scheme_of_finite_dimension}, \Cref{definition:big_etale_site_of_a_scheme}, \Cref{definition:big_fppf_site_over_a_scheme}, \Cref{definition:big_fpqc_site_of_a_scheme})

    Then these topologies satisfy the chain of refinements (fineness) relations
    \[
    \mathrm{Zar} \; \prec \; \mathrm{Nis} \; \prec \; \mathrm{\acute{E}t} \; \prec \; \mathrm{fppf} \; \prec \; \mathrm{fpqc},
    \]
    meaning that each topology is strictly \CrefAndHyperrefIfExist{definition:coarser_and_finer_grothendieck_topologies}{finer} than the previous one, i.e., every covering in a coarser topology is a covering in any finer topology.

    More explicitly, for every object $X \in \mathrm{Sch}/S$,
    $$
    \mathrm{Cov}_{\mathrm{Zar}}(X) \subsetneq \mathrm{Cov}_{\mathrm{Nis}}(X) \subsetneq \mathrm{Cov}_{\mathrm{\acute{E}t}}(X) \subsetneq \mathrm{Cov}_{\mathrm{fppf}}(X) \subsetneq \mathrm{Cov}_{\mathrm{fpqc}}(X).
    $$
\end{theorem}

\begin{theorem}[Essential smallness of small sites] \label{theorem:common_small_sites_of_a_scheme_are_essentially_small}
Let $X$ be a scheme. Consider the following sites associated to $X$:
\begin{itemize}
    \item \CrefAndHyperrefIfExist{definition:small_zariski_site_of_a_schem}{small Zariski site $X_{\mathrm{Zar}}$}, 
    \item \CrefAndHyperrefIfExist{definition:small_nisnevich_site_of_a_schem}{small Nisnevich site $X_{\mathrm{Nis}}$},
    \item \CrefAndHyperrefIfExist{definition:small_etale_site_of_a_scheme}{small étale site $X_{\mathrm{\acute{E}t}}$}, 
    \item \CrefAndHyperrefIfExist{definition:small_fppf_site_of_a_scheme}{small fppf site $X_{\mathrm{fppf}}$}.
    \item \CrefAndHyperrefIfExist{definition:small_fpqc_site_of_a_schem}{small fpqc site $X_{\mathrm{fpqc}}$}.
\end{itemize}
These sites are \CrefAndHyperrefIfExist{definition:essentially_small_category}{essentially small}.
% Then the underlying category forming each of these small sites of $X$ is \hldef{essentially small}; that is, it is equivalent to a category whose objects form a set (rather than a proper class).

% In particular, this essential smallness follows from imposing suitable universe or size conditions by restricting to affine schemes of finite presentation over $X$ or by other standard set-theoretic techniques.

% Hence, these small sites can be used as Grothendieck sites in the usual sense without foundational size issues.
\end{theorem}







\subsection{Sheafication of a presheaf on a site}

\input{../_definitions/definition_sheafification_functor_on_a_site.tex}
\input{../_concepts/theorem_sheafification_of_a_presheaf_of_sets_on_a_small_enough_site.tex}

\begin{corollary}  \label{corollary:sheafification_functor_exists_for_nice_enough_categories_of_sheaves_on_common_small_sites_of_schemes}
    Let $X$ be a scheme. For the categories $\calA = \mathbf{Set}, \mathbf{Grp}$, $k-\mathbf{Alg}$ for a field $k$, or $\mathbf{Mod}_R$ for a \CrefAndHyperrefIfExist{definition:ring}{(not necessarily commutative unital) ring $R$}, and for the sites $\calC = X_{\mathrm{Zar}}, X_{\mathrm{Nis}}, X_{\mathrm{\acute{E}t}}, X_{\mathrm{fppf}}, X_{\mathrm{fpqc}}$,
    there exists a \CrefAndHyperrefIfExist{theorem:sheafification_of_a_presheaf_of_sets_on_a_small_enough_site}{sheafification functor}
    $$a: \PreShv(\calC, \calA) \to \Shv(\calC, \calA).$$
\end{corollary}
\begin{proof}
    This follows from \Cref{theorem:sheafification_of_a_presheaf_of_sets_on_a_small_enough_site} and \Cref{theorem:common_small_sites_of_a_scheme_are_essentially_small}.
\end{proof}

\subsection{Examples of sheaves on the \'etale site of a scheme}

Constant and locally constant sheaves are discussed not just for $X_{\et}$, but also for more general sites.

\input{../_definitions/definition_constant_sheaf_on_a_site_with_sheafification.tex}
\input{../_definitions/definition_locally_constant_sheaf_on_a_site_with_sheafification.tex}

\input{../_definitions/definition_representable_functor_on_a_category_enriched_in_a_monoidal_category.tex}

\input{../_concepts/proposition_representable_functors_are_etale_sheaves.tex}


\input{../_definitions/definition_additive_sheaf_on_the_small_etale_site_of_a_scheme.tex}

\begin{definition}
For a scheme $X$, the \hldef{multiplicative sheaf} \hldef{$\mathbb{G}_m$} on $X_{\text{ét}}$ is defined by
$$ \mathbb{G}_m(U) := \mathcal{O}_U(U)^\times, $$
the group of invertible regular functions on $U$ for each étale $U \to X$. It may also be called the \hldef{multiplicative group scheme}, on account of the fact that the sheaf $\mathbb{G}_m$ is \CrefAndHyperrefIfExist{definition:representable_functor_on_a_category_enriched_in_a_monoidal_category}{representable by} the scheme $\mathbb{G}_m = \bbA_X^1 \setminus \{0\}$. \TODO{affine line over a scheme} In particular, it is indeed a sheaf (\Cref{proposition:representable_functors_are_etale_sheaves}).
\end{definition}


\input{../_definitions/definition_sheaf_of_nth_roots_of_unity_on_the_small_etale_site_of_a_scheme.tex}

We can use the sheaves $\mu_{\ell^n}$ for a prime $\ell$ to construct $\ell$-adic sheaves \CrefAndHyperrefIfExist{definition:ell_adic_tate_twist_sheaves_on_the_small_etale_site_of_a_scheme}{$\bbZ_\ell(d)$} called \emph{Tate twists}; we note that \CrefAndHyperrefIfExist{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring}{$\ell$-adic sheaves} are not actual sheaves on $X_{\et}$, but rather a certain type of inverse system of sheaves on $X_{\et}$. 




\subsection{Stalk of a (pre)sheaf on the small \'etale site of a scheme}

As with Zariski (pre)sheaves (or more generally locally ringed spaces), one can talk about stalks at points --- for the \'etale site the stalks are not just as closed points, but rather at \emph{geometric} points.


\input{../_definitions/definition_stalk_of_a_presheaf_on_the_small_etale_site_of_a_schem_at_a_geometric_point.tex}

\Cref{theorem:stalks_of_etale_sheaves_at_geometric_points_are_the_values_of_the_sheaves_at_the_strict_henselization_of_the_local_rings_at_the_image_of_the_point} describes stalks of \'etale sheaves in terms of \CrefAndHyperrefIfExist{definition:strict_henselization_of_a_local_ring}{strict henselizations}. We define the notions of Henselian and strictly Henselian local rings.


\begin{definition}[Henselian ring] \label{defintion:henselian_ring}
Let $(R, \mathfrak{m})$ be a \CrefAndHyperrefIfExist{definition:local_ring}{local ring} with \CrefAndHyperrefIfExist{definition:prime_and_maximal_ideal_of_a_ring}{maximal ideal $\mathfrak{m}$}. The ring $R$ is called \hldef{henselian} if for every monic polynomial $f(x) \in R[x]$ and factorization
$$ \overline{f}(x) = \overline{g}(x) \cdot \overline{h}(x) $$
in $(R/\mathfrak{m})[x]$ into coprime monic polynomials $\overline{g}, \overline{h}$, there exist monic polynomials $g(x), h(x) \in R[x]$ lifting $\overline{g}, \overline{h}$ respectively such that
$$ f(x) = g(x) \cdot h(x).  $$
\end{definition}

\input{../_concepts/theorem_complete_local_rings_are_henselian.tex}

\input{../_definitions/definition_strictly_henselian_ring}

\input{../_concepts/theorem_complete_local_rings_with_separably_closed_residue_fields_are_strictly_henselian.tex}



\input{../_definitions/definition_henselization_of_a_local_ring.tex}

\input{../_definitions/definition_strict_henselization_of_a_local_ring.tex}

\input{../_concepts/theorem_examples_of_henselizations_and_strict_henselizations.tex}
\input{../_concepts/theorem_stalks_of_etale_sheaves_at_geometric_points_are_the_values_of_the_sheaves_at_the_strict_henselization_of_the_local_rings_at_the_image_of_the_point.tex}




\subsection{Constant and locally constant sheaves}


\section{Locally constant sheaves and local systems}


\input{../_definitions/definition_local_system_of_Lambda_modules_on_a_scheme.tex}

\input{../_concepts/theorem_locally_constant_sheaves_on_X_etale_are_equivalent_to_representations_of_the_etale_fundamental_group.tex}

\section{Six functors}

\subsection{The functors on sheaves}

\subsubsection{Inverse and direct images of sheaves via continuous functors of general sites}
\input{../_definitions/definition_continuous_functor_of_sites.tex}
\input{../_definitions/definition_continuous_functor_between_sites_of_opens_on_topological_spaces_induced_by_continuous_map.tex}
\input{../_definitions/definition_continuous_functors_on_sites_on_schemes_induced_by_scheme_morphism.tex}

\input{../_definitions/definition_direct_image_of_a_sheaf_on_a_site_under_a_continuous_functor_of_sites_or_a_site_morphism.tex}


\input{../_definitions/definition_inverse_image_of_a_sheaf_under_a_continuous_functor_of_sites_or_a_site_morphism.tex}

\begin{theorem}
    Let $(C,J)$ and $(D,K)$ be \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{sites}  whose underlying categories are \CrefAndHyperrefIfExist{definition:essentially_small_category}{essentially small} (or essentially $U$-small if a \CrefAndHyperrefIfExist{definition:grothendieck_universe}{universe} $U$ is available), and let $u : C \to D$ be a \CrefAndHyperrefIfExist{definition:continuous_functor_of_sites}{continuous functor of sites}. Let $\mathcal{A}$ be a \CrefAndHyperrefIfExist{definition:locally_small_category}{locally small} (or $U$-locally small) category which has all small (or $U$-small) \CrefAndHyperrefIfExist{definition:product_and_coproduct_of_objects_in_a_category}{products}. In particular, $\operatorname{Sh}(D,K;\mathcal{A})$ and $\operatorname{Sh}(C,J;\mathcal{A})$ are locally small\footnote{as a consequence of \Cref{lemma:category_of_presheaves_on_a_small_category_of_locally_small_value_is_locally_small}}.

    The \CrefAndHyperrefIfExist{definition:direct_image_of_a_sheaf_on_a_site_under_a_continuous_functor_of_sites_or_a_site_morphism}{inverse image} and \CrefAndHyperrefIfExist{definition:inverse_image_of_a_sheaf_under_a_continuous_functor_of_sites_or_a_site_morphism}{direct image} functors 
    $$u^* : \operatorname{Sh}(D,K;\mathcal{A}) \to \operatorname{Sh}(C,J;\mathcal{A})$$
    $$u_* : \operatorname{Sh}(C,J;\mathcal{A}) \to \operatorname{Sh}(D,K;\mathcal{A})$$
    are \CrefAndHyperrefIfExist{definition:adjoint_functors_between_categories_unit_counit_of_adjoint_functors}{adjoint}
    For any \CrefAndHyperrefIfExist{definition:sheaf_on_a_site}{sheaves}, 
    \[
    \calF \in\operatorname{Sh}(C,J;\mathcal{A}), \quad \mathcal{G} \in \operatorname{Sh}(D,K;\mathcal{A}),
    \]
    there is a natural isomorphism
    $$\Hom_{\operatorname{Sh}(C,J;\mathcal{A})}(u^*\calG, \calF) \cong \Hom_{\operatorname{Sh}(D,K;\mathcal{A})}(\calG, u_* \calF).$$

\end{theorem}

\input{../_definitions/definition_inverse_image_of_a_sheaf_on_a_topological_space.tex}
\input{../_definitions/definition_direct_image_of_a_sheaf_on_a_topological_space.tex}

\input{../_definitions/definition_inverse_image_and_direct_image_of_sheaves_on_schemes_for_various_topologies.tex}

\input{../_definitions/definition_ringed_site.tex}



\subsubsection{Extension by zero of sheaves via open immersions of schemes}

\input{../_definitions/definition_extension_by_zero_of_a_sheaf_on_a_topological_space_under_open_immersion.tex}


\input{../_definitions/definition_extension_by_zero_of_a_sheaf_on_the_small_etale_site_on_a_scheme_under_open_immersion.tex}

\subsubsection{Hom and tensor product functors of sheaves}

\TODO{}

\subsubsection{Exactness properties on sheaves of abelian groups}


\begin{theorem}[Exactness of stalk functors on étale sheaves of abelian groups]
Let $X$ be a \CrefAndHyperrefIfExist{definition:scheme}{scheme}. For any \CrefAndHyperrefIfExist{definition:geometric_point_of_a_scheme}{geometric point} $\bar{x} : \operatorname{Spec}(\Omega) \to X$, the \CrefAndHyperrefIfExist{definition:stalk_of_a_presheaf_on_the_small_etale_site_of_a_schem_at_a_geometric_point}{stalk} functor
$$ \mathcal{F} \mapsto \mathcal{F}_{\bar{x}} $$
is an \CrefAndHyperrefIfExist{definition:exact_functor_between_abelian_categories}{exact functor} from the category of \CrefAndHyperrefIfExist{definition:sheaf_on_a_site}{sheaves} of abelian groups on \CrefAndHyperrefIfExist{definition:small_etale_site_of_a_scheme}{$X_{\text{ét}}$} (\Cref{proposition:examples_of_abelian_categories}) to the category of abelian groups. 

That is, for every short exact sequence of sheaves of abelian groups
$$ 0 \to \mathcal{F}' \to \mathcal{F} \to \mathcal{F}'' \to 0, $$
the induced sequence of stalks at $\bar{x}$
$$ 0 \to \mathcal{F}'_{\bar{x}} \to \mathcal{F}_{\bar{x}} \to \mathcal{F}''_{\bar{x}} \to 0 $$
is exact.
\end{theorem}

\begin{proposition}[Exactness of inverse image functors]
Let $f : Y \to X$ be a morphism of schemes. Then the \CrefAndHyperrefIfExist{definition:inverse_image_and_direct_image_of_sheaves_on_schemes_for_various_topologies}{inverse image functor}
$$ f^{-1} : \text{Sh}(X_{\text{ét}}, \text{Ab}) \to \text{Sh}(Y_{\text{ét}}, \text{Ab}) $$
on sheaves of abelian groups on the small étale sites is \CrefAndHyperrefIfExist{definition:exact_functor_between_abelian_categories}{exact}.
\end{proposition}


\begin{proposition}[Left exactness and exactness criteria for direct image functors] 
Let $f : Y \to X$ be a morphism of schemes. The \CrefAndHyperrefIfExist{definition:inverse_image_and_direct_image_of_sheaves_on_schemes_for_various_topologies}{direct image functor} $$ f_* : \text{Sh}(Y_{\text{ét}}, \text{Ab}) \to \text{Sh}(X_{\text{ét}}, \text{Ab}) $$ is \CrefAndHyperrefIfExist{definition:exact_functor_between_abelian_categories}{left exact} in general. 

\TODO{pin down precise conditions under which $f_*$ is exact.}
Moreover, if $f$ is an étale morphism, or more generally if $f$ is a morphism satisfying certain finiteness and flatness conditions (e.g., finite étale), then $f_*$ is exact.  In particular, if $f$ is an \CrefAndHyperrefIfExist{definition:open_and_closed_immersions_of_schemes}{open immersion} or \CrefAndHyperrefIfExist{definition:etale_morphism_of_schemes}{étale morphism}, then $f_*$ is exact. 
\end{proposition}



\subsection{The functors on derived categories of sheaves}

\TODO{Take the derived functors here and incorporate them in the definition of things for $D_c^b(X,R)$.}
\input{../_definitions/definition_torsion_sheaf_of_abelian_groups_on_a_site.tex}

\begin{notation}
    Let $X/S$ be a scheme over a base scheme $S$, and choose some \CrefAndHyperrefIfExist{definition:big_site_on_the_category_of_schemes_over_a_scheme_and_small_site}{small site} $C(X)$ on $X$ associated to a big site on $(\Sch/S)$. It is standard to write the following:
    \begin{itemize}
        \item \hl{$D(X)$} for the \CrefAndHyperrefIfExist{definition:derived_category_of_an_abelian_category}{derived category} of the category of sheaves of abelian groups on $C(X)$.
        \item \hl{$D_{\tor}(X)$} or\hl{$D_{\mathrm{tors}}(X)$} for the full subcategory of $D(X)$ of complexes whose \CrefAndHyperrefIfExist{definition:homology_and_cohomology_objects_for_a_chain_complex_in_an_additive_category}{cohomology objects} are \CrefAndHyperrefIfExist{definition:torsion_sheaf_of_abelian_groups_on_a_site}{torsion sheaves} 
        \TODO{continue}
        \item \TODO{continue notation}
    \end{itemize}
\end{notation}

\begin{definition}{e.g. see {\cite[6.3]{fu_ect}}}
    Let $f: X \to Y$ be a morphism of schemes. \TODO{define $Rf_*: D^+(X) \to D^+(Y)$, $f^*$}
\end{definition}

\TODO{state adjunction}

\begin{definition}{e.g. see \TODO{}}
    Let $f: X \to Y$ be an $S$-compactifiable morphism of schemes. \TODO{define $Rf_!: D^+(X) \to D^+(Y)$, $f^!$}
\end{definition}

\TODO{state adjunction}

\begin{definition}{e.g. see \TODO{}}
    Let $X/S$ be a scheme over a base scheme. \TODO{define $Ext$, sheaf Ext, $Tor$} 
\end{definition}

\TODO{state adjunction}

\section{Cohomology of literal sheaves for the small \'etale site on a scheme}

In this section, we define the \'etale cohomology of a \emph{literal} \CrefAndHyperrefIfExist{definition:sheaf_on_a_site}{sheaf} of abelian groups; we emphasize that the sheaves here as \emph{literal} because \CrefAndHyperrefIfExist{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring}{$\lambda$-adic sheaves} as defined later are not actual sheaves but rather projective systems of them.

\subsection{Sheaf cohomology of a general module over a sheaf of rings on a site}

\input{../_definitions/definition_sections_of_a_presheaf_on_a_category_valued_in_a_category.tex}


\input{../_concepts/proposition_sections_functors_on_presheaves_vlaued_in_an_abelian_category_are_left_exact.tex}




\input{../_definitions/definition_module_over_a_sheaf_of_rings_on_a_site.tex}



\begin{definition}[Tensor product of sheaves of bimodules] \label{definition:tensor_product_of_sheaves_of_bimodules_over_sheaves_of_rings_on_a_site}
Let $\mathcal{C}$ be a \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site}. Let $\mathcal{R}, \mathcal{S}, \mathcal{T}$ be (not necessarily commutative) \CrefAndHyperrefIfExist{definition:sheaf_on_a_site}{sheaves} of \CrefAndHyperrefIfExist{definition:ring}{rings} on $\mathcal{C}$. Let $\mathcal{M}$ be an \CrefAndHyperrefIfExist{definition:module_over_a_sheaf_of_rings_on_a_site}{$(\mathcal{R}, \mathcal{S})$-bimodule}, and let $\mathcal{N}$ be an $(\mathcal{S}, \mathcal{T})$-bimodule.

\begin{enumerate}
    \item Define the \hldef{presheaf tensor product}
    \hl{$\mathcal{M} \otimes_{p,\mathcal{S}} \mathcal{N}$} to be the \CrefAndHyperrefIfExist{definition:presheaf_on_a_category}{presheaf} of abelian groups given by
    $$ U \longmapsto \mathcal{M}(U) \otimes_{\mathcal{S}(U)} \mathcal{N}(U).$$
    \CrefIfExists{definition:tensor_product_of_bimodules_of_rings} As a presheaf, it has the structure of a $\calR-\calT$-bimodule \TODO{bimodule for a presheaf}.

    \item Assume that a \CrefAndHyperrefIfExist{definition:sheafification_functor_on_a_site}{sheafification functor} 
    $$\Shv(\calC, \Sets) \to \PreShv(\calC, \Sets)$$
    exists.  The \hldef{tensor product of sheaves $\mathcal{M}$ and $\mathcal{N}$}, denoted \hl{$\mathcal{M} \otimes_{\mathcal{S}} \mathcal{N}$}, is defined to be the \CrefAndHyperrefIfExist{definition:sheafification}{sheafification} of the presheaf $\mathcal{M} \otimes_{p,\mathcal{S}} \mathcal{N}$. This tensor product becomes naturally an $(\mathcal{R}, \mathcal{T})$-bimodule.

\end{enumerate}

The left $\mathcal{R}$-action and right $\mathcal{T}$-action are induced by the presheaf actions defined section-wise by
\begin{align*}
r \cdot (m \otimes n) &= (r \cdot m) \otimes n, \\
(m \otimes n) \cdot t &= m \otimes (n \cdot t),
\end{align*}
for all $r \in \mathcal{R}(U)$, $t \in \mathcal{T}(U)$, $m \in \mathcal{M}(U)$, and $n \in \mathcal{N}(U)$. The sheafification functor preserves these actions, yielding the required bimodule structure on $\mathcal{M} \otimes_{\mathcal{S}} \mathcal{N}$.


Inductively, given sheaves of rings $\mathcal{R}_0, \ldots, \mathcal{R}_k$ and $(\mathcal{R}_{i-1}, \mathcal{R}_i)$-bimodules $\mathcal{M}_i$ for $i = 1, \ldots, k$, we may speak of the tensor product
$$ \hlin{\mathcal{M}_0 \otimes_{\mathcal{R}_1} \mathcal{M}_1 \otimes_{\mathcal{R}_2} \cdots \otimes_{\mathcal{R}_{k-1}} \mathcal{M}_k. }$$
Tensor products of sheaves are associative up to canonical isomorphism\TODO{}, allowing us to omit parentheses. This iterated tensor product carries a natural $(\mathcal{R}_0, \mathcal{R}_k)$-bimodule structure.

\TextIfExists{definition:n_ary_additive_functor_between_additive_categories}{In general, the assignment $(\mathcal{M}_0, \ldots, \mathcal{M}_k) \mapsto \mathcal{M}_0 \otimes_{\mathcal{R}_1} \cdots \otimes_{\mathcal{R}_{k-1}} \mathcal{M}_k$ defines a \CrefAndHyperrefIfExist{definition:n_ary_additive_functor_between_additive_categories}{$(k+1)$-ary additive functor}
$$ {}_{\mathcal{R}_0}\mathbf{Mod}_{\mathcal{R}_1} \times \cdots \times {}_{\mathcal{R}_{k-1}}\mathbf{Mod}_{\mathcal{R}_k} \to {}_{\mathcal{R}_0} \mathbf{Mod}_{\mathcal{R}_k} $$
()\Cref{proposition:examples_of_abelian_categories}).}

Given a sheaf of rings $\mathcal{R}$ and a two-sided $\mathcal{R}$-module $\mathcal{M}$, we may also speak of the \hldef{$n$-fold tensor product} \hl{$\mathcal{M}^{\otimes n} = \mathcal{M}^{\otimes_{\mathcal{R}} n}$}.
\end{definition}



\input{../_definitions/definition_subsheaf_of_a_sheaf_on_a_site.tex}


\input{../_definitions/definition_sheaf_of_ideals_for_a_sheaf_of_rings_on_a_site.tex}



\input{../_concepts/theorem_category_of_modules_over_a_sheaf_of_rings_on_a_site_on_an_essentially_small_category_has_enough_injectives.tex}

We can describe the sections of a sheaf over an object by the direct image from the object to the final object, if it exists.

\input{../_concepts/theorem_sections_of_a_sheaf_on_a_site_with_a_final_object_coincides_with_direct_image_from_object_to_final_object.tex}


\begin{corollary}
    \TODO{the sites}
    Let $f: X \to S$ be a scheme over a scheme $S$ and let $\mathbf{C}(X)$ and $\mathbf{C}(S)$ be small sites associated to $X$ and $S$ respectively, equipped with any common Grothendieck topologies such as Zariski, étale, Nisnevich, fppf, fpqc, or crystalline. Let $\calA$ be a (large) category and let \CrefAndHyperrefIfExist{definition:sheaf_on_a_site}{$\calF \in \operatorname{Sh}(\mathbf{C}(X), \calA)$}. We have a natural isomorphism
    $$\Gamma(\calF) \cong (f_* \calF)(S)$$ 
    \CrefIfExists{definition:inverse_image_and_direct_image_of_sheaves_on_schemes_for_various_topologies}
    \TODO{natural in both $\calF$ and $S$ perhaps?}
\end{corollary}


\input{../_definitions/definition_sheaf_cohomology_group_of_a_sheaf_of_modules_over_a_sheaf_of_rings_on_a_site.tex}


\subsection{\'Etale cohomology of literal sheaves}

\input{../_definitions/definition_etale_cohomology_of_a_sheaf_of_abelian_groups_on_the_small_etale_site_of_a_schem.tex}

\input{../_definitions/definition_etale_cohomology_group_of_a_scheme_with_coefficients_in_an_abelian_group.tex}



\section{Derived categories of \texorpdfstring{$\lambda$}{lambad}-adic sheaves constructible through limits of categories}


\TODO{Give an outline of how $D_c^b(X, \Qellbar)$ is defined}
Classically, given a noetherian scheme $X$ and a prime $\ell$ invertible on $X$, the category $D_c^b(X, \Qellbar)$, which is intuitively treated as a cohomologically bounded derived category of constructible complexes of sheaves with $\Qellbar$ coefficients, is constructed via the following steps:

\TODO{Cite the statements of the constructions}
\begin{enumerate}
    \item 

    Write $E$ for a finite extension of $\Qell$, and write $R$ for the integral closure of $\bbZ_\ell$ in $E$. Note that $R$ is a complete discrete valuation ring. Write $\lambda$ for a uniformizer of $R$. 
    \item Construct $D_c^b(X,R)$ \TODO{Explain how $D_c^b(X,R)$ is constructed.}.
    \item Define $D_c^b(X,E) = D_c^b(X,R)[\lambda^{-1}]$, i.e. construct $D_c^b(X,E)$ as the localization of $D_c^b(X,R)$ by the maps $\lambda^m: \calF \to \calF$ in $D_c^b(X,R)$.
    \item Observe that for finite extensions $E'/E$, there are functors 
    $$D_c^b(X,E) \to D_c^b(X,E')$$
    \item Construct $D_c^b(X, \Qellbar)$ as the $2$-direct limit of the $D_c^b(X,E)$ as $E$ runs over the finite extensions of $\Qell$ in $\Qellbar$:
    $$D_c^b(X, \Qellbar) = \varinjlim_{\substack{\Qellbar \supset E \supseteq \Qell \\ E/\Qell \text{ fintie}}} D_c^b(X,E)$$
\end{enumerate}


\subsection{\texorpdfstring{$\ell$}{ell}-adic sheaves}

$\ell$-adic sheaves do not refer to literal sheaves on $X_{\et}$ with coefficients in $\ell$-adic rings such as $\bbZ_\ell$ or $\Qell$. In a purely formal sense, one could talk about sheaves on $X_{\et}$ with such coefficients, but the categories of such sheaves are too ill-behaved to be of arithmetic use. 

\subsection{\texorpdfstring{$\ell$}{ell}-adic cohomology}

$\ell$-adic cohomology does not refer to \CrefAndHyperref{definition:etale_cohomology_group_of_a_scheme_with_coefficients_in_an_abelian_group}{\'etale cohomology with coefficients} in the rings $\bbZ_\ell$ or $\bbQ_\ell$ . 

\TODO{define $\ell$-adic sheaves (say with $R$, $E$, and $\Qellbar$-coefficients)}
\TODO{define $\ell$-adic cohomology in $R$-coefficients, $E$-coefficients, and $\Qellbar$-coefficients}

\subsection{The categories of \texorpdfstring{$\lambda$}{lambda}-adic sheaves and A-R \texorpdfstring{$\lambda$}{lambda}-adic sheaves}

Historically, the theory of $\lambda$-adic sheaves (as opposed to ``derived categories''/categories of complexes of $\lambda$-adic sheaves) was first studied in SGA5 \cite[Expos\'e V]{SGA5}. Note that SGA5 \cite[Expos\'e III]{SGA5} did study derived categories of sheaves with \emph{finite} coefficients.

This subsection considers four abelian categories whose objects are inverse systems of sheaves:
\begin{enumerate}
    \item The category of inverse systems of $\lambda$-torsion sheaves (\Cref{definition:lambda_torsion_sheaf_of_modules_over_a_sheaf_of_rings_on_a_site_for_a_sheaf_of_ideals})
    \item The A-R category of inverse systems of $\lambda$-torsion sheaves (\Cref{definition:A_R_category_of_inverse_systems_of_lambda_torsion_sheaves_on_small_etale_site})
    \item The category of $\lambda$-adic sheaves (\Cref{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring})
    \item The category of A-R $\lambda$-adic sheaves (\Cref{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring})
\end{enumerate}

These categories are related via the following commutative diagram of functors:
\begin{center}
    \begin{tikzcd}[column sep=5em]
        (\text{inverse system of } \lambda \text{-torsion sheaves}) \ar[r, "\text{localization}"] & (\text{A-R category}) \\
        (\lambda\text{-adic sheaves}) \ar[u, hookrightarrow, "\text{full subcategory}"] \ar[r, "\cong"] & (\text{A-R } \lambda\text{-adic sheaves}) \ar[u, "\text{full subcategory}", hookrightarrow]
    \end{tikzcd}
\end{center}

\subsection{Constructible sheaves}


\input{../_definitions/definition_constructible_sheaf_on_a_small_site_on_a_scheme_or_a_topological_space.tex}
\input{../_definitions/definition_full_subcategory_of_a_category.tex}

\begin{definition} \label{definition:derived_category_of_cohomologically_constructible_complexes_of_sheaves_of_modules_of_a_sheaf_of_rings_on_a_topological_space_or_scheme}

    Let $X$ be either
    \begin{enumerate}
        \item A \CrefAndHyperrefIfExist{definition:topological_space}{topological space} (made into a \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site} with the \CrefAndHyperrefIfExist{definition:site_of_opens_on_a_topological_space}{natural Grothendieck topology}) or
        \item A \CrefAndHyperrefIfExist{definition:scheme}{scheme} along with a \CrefAndHyperrefIfExist{definition:big_site_on_the_category_of_schemes_over_a_scheme_and_small_site}{small site $(\calC, J)$ on $X$}. Assume that the there is a \CrefAndHyperrefIfExist{definition:sheafification_functor_on_a_site}{sheafification functor} for the presheaves/sheaves valued in abelian groups so that \CrefAndHyperrefIfExist{definition:locally_constant_sheaf_on_a_site_with_sheafification}{locally constant sheaves} of abelian groups are defined. For example, it suffices for the underlying category of the site to be \CrefAndHyperrefIfExist{definition:essentially_small_category}{essentially small}(\Cref{theorem:sheafification_of_a_presheaf_of_sets_on_a_small_enough_site}).
    \end{enumerate}
    Note that the sites are \CrefAndHyperrefIfExist{definition:essentially_small_category}{essentially small} (see \Cref{theorem:common_small_sites_of_a_scheme_are_essentially_small}).

    The category \hl{$D_c(X, \calO)$} is the \CrefAndHyperrefIfExist{definition:full_subcategory_of_a_category}{full subcategory} of the derived category \CrefAndHyperrefIfExist{notation:derived_category_of_category_of_modules_of_a_ringed_site}{$D(X, \calO)$} of objects $K^\bullet$ whose \CrefAndHyperrefIfExist{definition:homology_and_cohomology_objects_for_a_chain_complex_in_an_additive_category}{(co)homology objects} are \CrefAndHyperrefIfExist{definition:constructible_sheaf_on_a_small_site_on_a_scheme_or_a_topological_space}{constructible sheaves}. It is customary to speak of the subcategories \hl{$D^{?}(\calC, \calO)$} for $? \in \{+,-,b\}$ as usual.
\end{definition}



\subsection{\texorpdfstring{$\lambda$}{lambda}-adic sheaves}
\input{../_definitions/definition_lambda_torsion_sheaf_of_modules_over_a_sheaf_of_rings_on_a_site_for_a_sheaf_of_ideals.tex}

% The \CrefAndHyperrefIfExist{definition:mittag_leffler_condition_for_an_inverse_system_of_objects_in_a_category_with_images}{Mittag-Leffler condition} and the Artin-Rees\TODO{}
\CrefAndHyperrefIfExist{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring}{$\lambda$-adic sheaves} are specific inverse systems of torsion sheaves; imposing the \CrefAndHyperrefIfExist{definition:mittag_leffler_condition_for_an_inverse_system_of_objects_in_a_category_with_images}{Mittag-Leffler condition} ensures the existence of the limit as a sheaf and the stronger \CrefAndHyperrefIfExist{definition:artin_rees_mittag_leffler_condition_on_a_tower_in_a_category_with_images}{Artin-Rees-Mittag-Leffler condition} yields an abelian category. 

\input{../_definitions/definition_tower_of_objects_in_a_category.tex}
\input{../_definitions/definition_shifted_tower_of_objects_in_a_category.tex}
\input{../_definitions/definition_mittag_leffler_condition_for_an_inverse_system_of_objects_in_a_category_with_images.tex}
\input{../_definitions/definition_trivial_mittag_leffler_condition_for_an_inverse_system_of_objects_in_a_pointed_category.tex}
\input{../_definitions/definition_null_system_in_a_pointed_category_with_images.tex}
\input{../_definitions/definition_artin_rees_mittag_leffler_condition_on_a_tower_in_a_category_with_images.tex}

% \begin{definition}[Artin–Rees–Mittag–Leffler condition]
% Let $R$ be a commutative ring, $\lambda \subseteq R$ an ideal, and let $\{\mathcal{F}_n\}_{n\geq 1}$ be an \hyperrefIfExists{definition:system_in_a_category_indexed_by_a_directed_poset}{inverse system}\CrefIfExists{definition:system_in_a_category_indexed_by_a_directed_poset} of \hyperrefIfExists{definition:lambda_torsion_sheaf_of_modules_over_a_sheaf_of_rings_on_a_site_for_a_sheaf_of_ideals}{$\lambda$-torsion sheaves}\CrefIfExists{definition:lambda_torsion_sheaf_of_modules_over_a_sheaf_of_rings_on_a_site_for_a_sheaf_of_ideals} of $R$-modules on $X_{\text{ét}}$. This system satisfies the \hldef{Artin–Rees–Mittag–Leffler (A–R–M–L) condition} if for every $n\geq 1$, there exists $m\geq n$ such that for all $m'\geq m$,
% \[
% \mathrm{Im}\big(\mathcal{F}_{m'} \to \mathcal{F}_n\big) = \mathrm{Im}\big( \lambda^{m'-m}\cdot \mathcal{F}_m \to \mathcal{F}_n \big).
% \]
% \end{definition}

% \begin{definition}[Null system of $\lambda$-torsion sheaves]
% Let $\{\mathcal{F}_n\}_{n\geq 1}$ be an \hyperrefIfExists{definition:system_in_a_category_indexed_by_a_directed_poset}{inverse system}\CrefIfExists{definition:system_in_a_category_indexed_by_a_directed_poset} of \hyperrefIfExists{definition:lambda_torsion_sheaf_of_modules_over_a_sheaf_of_rings_on_a_site_for_a_sheaf_of_ideals}{$\lambda$-torsion sheaves}\CrefIfExists{definition:lambda_torsion_sheaf_of_modules_over_a_sheaf_of_rings_on_a_site_for_a_sheaf_of_ideals} of $R$-modules on $X_{\text{ét}}$. The system is called a \hldef{null system} if for every $n\geq 1$, there exists $m\geq n$ such that the transition morphism $\mathcal{F}_m \to \mathcal{F}_n$ is the zero morphism.
% \end{definition}

\input{../_definitions/definition_A_R_category_of_inverse_systems_of_lambda_torsion_sheaves_on_small_etale_site.tex}
\input{../_definitions/definition_lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring.tex}

Here is a basic example of a lambda adic sheaf:

\input{../_definitions/definition_ell_adic_sheaf_Z_ell_on_small_etale_site_of_a_scheme.tex}


\input{../_definitions/definition_ell_adic_tate_twist_sheaves_on_the_small_etale_site_of_a_scheme.tex}

\begin{lemma}
    Let $(\calC, J)$ be a \CrefAndHyperrefIfExist{definition:grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family}{site}. Let $\calO$ be a \CrefAndHyperrefIfExist{definition:sheaf_on_a_site}{sheaf of commutative rings} on $(\calC, J)$. Let $\lambda \subseteq \calO$ be a \CrefAndHyperrefIfExist{definition:sheaf_of_ideals_for_a_sheaf_of_rings_on_a_site}{sheaf of ideals}. Let $\{\calG_n\}_{n \geq 1}$ be an inverse system of constructible \TODO{generalize the notion of constructible sheaves to a sheaf of $\calO$-modules}

    Let $R$ be a commutative ring and let $\lambda \subseteq R$ be an ideal. \TODO{Try to generalize stacks 03UN as an exercise}
\end{lemma}

\begin{theorem}{See e.g. {\cite[10.1]{fu_ect}}} \label{theorem:categories_of_lambda_adic_and_A_R_lambda_adic_sheaves_over_the_ring_of_integers_of_a_finite_extension_of_Q_ell_are_equivalent}
    Let $X$ be a noetherian scheme. Let $\ell$ be a prime number that is invertible on $X$. Let $R$ be the integral closure of $\bbZ_\ell$ in a finite extension $E$ of $\Qell$. Note that $R$ is a complete discrete valuation ring and let $\lambda$ be the maximal ideal of $R$. The category of \hyperrefIfExists{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring}{$\lambda$-adic sheaves}\CrefIfExists{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring} is equivalent to the category of \hyperrefIfExists{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring}{A-R $\lambda$-adic sheaves}\CrefIfExists{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring}.
\end{theorem}



\subsection{The category \texorpdfstring{$D_c^b(X,R)$}{Dcb(X,R)} of integral coefficients}

For a scheme $X$, a prime $\ell$ invertible on $X$, and the ring of integers $R$ in a finite extension $E$ of $\Qell$, Deligne {\cite[I.I.2]{deligne_lcwii}} defined ``derived'' categories \hyperrefIfExists{definition:derived_category_of_bounded_constructible_complexes_of_adic_sheaves_with_integral_coefficients_on_a_noetherian_scheme}{$D_c^b(X, R)$}\CrefIfExists{definition:derived_category_of_bounded_constructible_complexes_of_adic_sheaves_with_integral_coefficients_on_a_noetherian_scheme}, $D_c^b(X, E)$, and $D_c^b(X, \Qellbar)$, intuitively of ``integral'', ``rational'', and $\Qellbar$ coefficients respectively. These categories are not derived categories themselves but constructed $\lambda$-adically through the genuine derived categories $D_c^b(X,R/\lambda^n)$ of finite coefficients. loc.~cit.~ also established that the six functor formalisms on the categories $D_c^b(X, R/\lambda^n)$ induce a six functor formalism on $D_c^b(X,R)$ under suitable finiteness conditions, e.g. $X$ is of finite type over a regular base $S$ of dimension $\leq 1$, and that $D_c^b(X,R)$ is a triangulated category under other finiteness conditions, e.g. $X$ is of finite type over a finite field or an algebraically closed field.

\input{../_definitions/definition_derived_category_of_bounded_constructible_complexes_of_adic_sheaves_with_integral_coefficients_on_a_noetherian_scheme.tex}




\begin{proposition}[See, e.g. {\cite[Proposition 10.1.16]{fu_ect}}]
    Let $X$ be a noetherian scheme. Let $\ell$ be a prime number that is invertible on $X$. Let $R$ be the integral closure of $\bbZ_\ell$ in a finite extension $E$ of $\Qell$. Note that $R$ is a complete discrete valuation ring and let $\lambda$ be the maximal ideal of $R$.

    For $K = (K_n, u_n)_{n \geq 0}$ in \CrefAndHyperrefIfExist{definition:derived_category_of_bounded_constructible_complexes_of_adic_sheaves_with_integral_coefficients_on_a_noetherian_scheme}{$D_c^b(X,R)$}, we have that $K_n \in D_{\mathrm{ctf}}^b(X, R/(\lambda^{n+1}))$\TODO{ctf} for all $n$, and the inverse systems $(H^i(K_n)_{n \in \bbZ})$ are \hyperrefIfExists{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring}{A-R $\lambda$-adic}\CrefIfExists{definition:lambda_adic_sheaf_on_the_small_etale_site_of_a_scheme_for_an_ideal_of_a_commutative_ring}.
\end{proposition}

\begin{remark}
    Let $X$ be a noetherian scheme. Let $\ell$ be a prime number that is invertible on $X$. Let $R$ be the integral closure of $\bbZ_\ell$ in a finite extension $E$ of $\Qell$.
    If $\calF = (\calF_n)$ is a torsion free $\lambda$-adic sheaf \TODO{define torsion free}, then $\calF$ defines an objects in $\Dbc(X,R)$. 
\end{remark}

\begin{definition}
    \TODO{cite these things}
    Let $X$ be a \CrefAndHyperrefIfExist{definition:locally_noetherian_and_noetherian_scheme}{noetherian} scheme. Let $\ell$ be a prime number that is invertible on $X$. Let $R$ be the \CrefAndHyperrefIfExist{definition:integral_element_over_a_ring}{integral closure} of $\bbZ_\ell$ in a finite extension $E$ of $\Qell$.

    \TODO{Define the six functors on $D_c^b(X,R/lambda^n)$}
    Let $f: X \to Y$ be a morphism between noetherian-schemes over a base scheme $S$. Consider \CrefAndHyperrefIfExist{definition:sheaf_on_a_site}{sheaves} on the \CrefAndHyperrefIfExist{definition:small_etale_site_of_a_scheme}{small \'etale sites} on $X$ and $Y$. Take objects $K=(K_n)$ and $L=(L_n)$ of \CrefAndHyperrefIfExist{definition:derived_category_of_bounded_constructible_complexes_of_adic_sheaves_with_integral_coefficients_on_a_noetherian_scheme}{$D_c^b(X,R)$} and $M = (M_n)$ of $D_c^b(Y,R)$. Define the following:
    \begin{enumerate}
        \item $$\hlin{f^* K = (f^* K_n)_n}$$
        \CrefIfExists{definition:inverse_image_and_direct_image_of_sheaves_on_schemes_for_various_topologies}\CrefIfExists{definition:direct_image_of_a_sheaf_on_a_site_under_a_continuous_functor_of_sites_or_a_site_morphism}

        \TODO{compactifiable morphism}
        \item If $f$ is an $S$-compactifiable morphism over some base scheme $S$, 
        $$\hlin{Rf_! K = (Rf_! K_n)}$$
        \TODO{}
        \item If $f$ is an $S$-compactifiable morphism where $S$ is a noetherian \CrefAndHyperrefIfExist{definition:regular_at_a_point_for_a_scheme_regular_scheme_nonsingular_scheme}{regular scheme} of \CrefAndHyperrefIfExist{definition:dimension_of_a_scheme}{dimension} $\leq 1$ and $X$ and $Y$ are $S$-schemes of \CrefAndHyperrefIfExist{definition:finite_type_morphism_of_schemes}{finite type},

        \hlalign{
        \begin{align*}
            Rf_* K &= (Rf_* K_n)_n \\
            % Rf_! K &= (Rf_! K_n)_n \quad (\text{assuming that } f \text{ is compactifiable over } S)\\
            Rf^! K &= (Rf^! K_n)_n \quad (\text{assuming that } f \text{ is compactifiable over } S)\\
            K \Lotimes_R L &= (K_n \Lotimes_{R/\lambda^{n+1}} L_n) \\
            R\mathscr{H}om(K,L) &= (R\mathscr{H}om)(K_n,L_n).
        \end{align*}
        }
        \CrefIfExists{definition:inverse_image_of_a_sheaf_under_a_continuous_functor_of_sites_or_a_site_morphism}
        \TODO{exceptional inverse image}
        \CrefIfExists{definition:derived_tensor_product_on_bounded_above_derived_categories_of_abelian_categories_for_a_biadditive_right_exact_functor}\TODO{derived sheaf hom}
    \end{enumerate}
    % \CrefIfExists{}


    % Let $R$ be a commutative ring and let $\lambda\subseteq R$ be an ideal. Let $S$ be a scheme. Let $f: X \to Y$ be a morphism between $S$-schemes. 

    % \TODO{It might be necessary to but more conditions on $\lambda$, particularly that $R/\lambda$ is finite and has exponent that is invertible on $X$}

    % Given objects $K=(K_n)$ and $L=(L_n)$ of $D_c^b(X,R)$\CrefIfExists{definition:derived_category_of_bounded_constructible_complexes_of_adic_sheaves_with_integral_coefficients_on_a_noetherian_scheme} and $M = (M_n)$ of $D_c^b(Y,R)$, define
    % \hlalign{
    % \begin{align*}
    %     Rf_* K &= (Rf_* K_n)_n \\
    %     Rf_! K &= (Rf_! K_n)_n \quad (\text{assuming that } f \text{ is compactifiable over } S)\\
    %     Rf^! K &= (Rf^! K_n)_n \quad (\text{assuming that } f \text{ is compactifiable over } S)\\
    %     K \Lotimes_R L &= (K_n \Lotimes_{R/\lambda^{n+1}} L_n) \\
    %     R\mathscr{H}om(K,L) &= (R\mathscr{H}om)(K_n,L_n).
    % \end{align*}
    % }
    When they are defined, $Rf_* K$ and $Rf_! K$ are objects in $D_c^b(Y,R)$ and $f^* M, Rf^! M, K \otimes_R^L L$ and $R\mathscr{H}om(K,L)$ are objects in $D_c^b(X,R)$.
    $Rf^! K$, $K \Lotimes_R L$, and $R\mathscr{H}om(K,L)$ may alternatively be denoted by notations such as \hl{$f^! K$}, \hl{$K \otimes_R L$}, and \hl{$\mathrm{RHom}(K,L)$} respectively.
\end{definition}

\begin{proposition}
    Let $f: X \to Y$ be a morphism between noetherian schemes. Let $\ell$ be a prime number that is invertible on $X$ and $Y$. Let $R$ be the integral closure of $\bbZ_\ell$ in a finite extension $E$ of $\Qell$. Note that $R$ is a complete discrete valuation ring and let $\lambda$ be the maximal ideal of $R$.
    \begin{enumerate}
        \item For any $K = (K_n) \in D_c^b(Y,R)$, we have $f^*k = (f^*K_n) \in D_c^b(X,R)$.
    \end{enumerate}
\end{proposition}

\input{../_definitions/definition_zero_divisor_of_a_ring.tex}

\begin{definition}[cf. {\cite[Between Corollary 10.1.21 and Lemma 10.1.22]{fu_ect}}] \label{definition:derived_category_of_cohomologically_bounded_constructible_sheaves_with_rational_adic_coefficients_on_a_noetherian_scheme}

    Let $R$ be a \CrefAndHyperrefIfExist{definition:domain}{integral domain} with fraction field $E$, and let $\lambda\subseteq R$ be an \CrefAndHyperrefIfExist{definition:ideal_of_a_ring}{ideal} such that $R/\lambda^n$ is of finite cardinality for all $n \geq 0$. Let $X$ be a scheme, and consider sheaves on some site on $X$ whose underlying category is a (not necessarily full) subcategory of the category of $X$-schemes (e.g. the \CrefAndHyperrefIfExist{definition:small_zariski_site_of_a_schem}{small Zariski site}, the \CrefAndHyperrefIfExist{definition:small_nisnevich_site_of_a_schem}{small Nisnevich site}, the \CrefAndHyperrefIfExist{definition:small_etale_site_of_a_scheme}{small \'etale site}, the \CrefAndHyperrefIfExist{definition:small_fpqc_site_of_a_schem }{small fpqc site}, or the \CrefAndHyperrefIfExist{definition:small_fppf_site_of_a_scheme}{small fppf site} on $X$).  
    \TODO{It might be necessary to but more conditions on $\lambda$, particularly that $R/\lambda$ is finite and has exponent that is invertible on $X$}

    \begin{enumerate}
        \item On the category \CrefAndHyperref{definition:derived_category_of_bounded_constructible_complexes_of_adic_sheaves_with_integral_coefficients_on_a_noetherian_scheme}{$\Dbc(X,R)$}, the morphisms defined by multiplications by $\lambda^m$ for $m \geq 0$ form a \CrefAndHyperrefIfExist{definition:multiplicative_system_of_morphisms_in_a_category}{multiplicative system} \TODO{why}. Define the category \hl{$\Dbc(X,E)$} as the \CrefAndHyperrefIfExist{definition:localization_of_a_category_by_a_multiplicative_system}{localization} of $\Dbc(X,R)$ by this system. In particular, the objects of $\Dbc(X,E)$ are those of $\Dbc(X,R)$ and 
        $$\Hom_{\Dbc(X,R)}(K,L) \otimes_R E \cong \Hom_{\Dbc(X,E)}(K,L)$$
        for all objects $K,L$ of $\Dbc(X,R)$.

        \item Let $K/E$ be some \CrefAndHyperrefIfExist{definition:algebraic_element_minimal_polynomial_of_an_algebraic_element_algebraic_field_extension_transcendental_element_field_extension}{algebraic extension}. The category \hl{$\Dbc(X,K)$} is defined as the $2$-direct limit of the categories $\Dbc(X,L)$ where $L$ run over the finite extensions of $K$:
        $$\Dbc(X,K) = \varinjlim_{L/K \text{ finite extension}} \Dbc(X,E).$$
        In other words, each object of $\Dbc(X,K)$ is represented by some object of $\Dbc(X,L)$ for some $L/K$ and given two objects $M_1 \in \Ob (\Dbc(X, L_1))$ and $M_2 \in \Ob(\Dbc(X,L_2))$, we have
        $$\Hom_{\Dbc(X,K)}(M_1, M_2) \cong \varinjlim_{L/K \text{ finite extension, } L_1,L_2 \subseteq L} \Hom(M_1 \otimes_{L_1} L, M_2 \otimes_{L_2} L).$$
        \TODO{define base change}

    \end{enumerate}


\end{definition}

\input{../_definitions/definition_algebraic_element_minimal_polynomial_of_an_algebraic_element_algebraic_field_extension_transcendental_element_field_extension.tex}

\begin{definition} \label{definition:derived_category_of_cohomologically_bounded_constructible_sheaves_with_rational_adic_coefficients_on_a_noetherian_scheme}
    Let $R$ be a \CrefAndHyperrefIfExist{definition:domain}{integral domain} with fraction field $E$, and let $\lambda\subseteq R$ be an \CrefAndHyperrefIfExist{definition:ideal_of_a_ring}{ideal} such that $R/\lambda^n$ is of finite cardinality for all $n \geq 0$. Let $K/E$ be some \CrefAndHyperrefIfExist{definition:algebraic_element_minimal_polynomial_of_an_algebraic_element_algebraic_field_extension_transcendental_element_field_extension}{algebraic extension}. Let $X$ be a scheme, and consider sheaves on some site on $X$ whose underlying category is a (not necessarily full) subcategory of the category of $X$-schemes (e.g. the \CrefAndHyperrefIfExist{definition:small_zariski_site_of_a_schem}{small Zariski site}, the \CrefAndHyperrefIfExist{definition:small_nisnevich_site_of_a_schem}{small Nisnevich site}, the \CrefAndHyperrefIfExist{definition:small_etale_site_of_a_scheme}{small \'etale site}, the \CrefAndHyperrefIfExist{definition:small_fpqc_site_of_a_schem }{small fpqc site}, or the \CrefAndHyperrefIfExist{definition:small_fppf_site_of_a_scheme}{small fppf site} on $X$). 
    \TODO{It might be necessary to but more conditions on $\lambda$, particularly that $R/\lambda$ is finite and has exponent that is invertible on $X$}

    \TODO{probably need to talk about base changes of ell-adic sheaves, $\Qellbar$-sheaves, etc.}
    \TODO{$\Dbc(X, \Qellbar)$}
\end{definition}

\section{Theorems}

\begin{corollary}[Finiteness of cohomology]
    \TODO{read}
Let $X$ be a variety of finite type over a separably closed field $k$, and let $\ell \neq \operatorname{char}(k)$. Then each $H^i_{\text{ét}}(X, \mathbb{Q}_\ell)$ is a finite-dimensional $\mathbb{Q}_\ell$-vector space, and vanishes for $i > 2 \dim(X)$.

\end{corollary}


\subsection{Base change theorem}

\begin{proposition}[Smooth base change]
    \TODO{read}
Let $f : X \to S$ be a smooth, proper morphism of schemes, and let $\ell$ be a prime invertible on $S$. Then the formation of étale cohomology commutes with base change: for any cartesian square

\[
\begin{aligned}
Y &\longrightarrow X \\
\downarrow & \;\;\;\;\;\;\; \downarrow f \\
T &\longrightarrow S
\end{aligned}
\]

one has natural isomorphisms

$$ H^i_{\text{ét}}(Y_{\overline{t}}, \mathbb{Q}_\ell) \;\cong\; H^i_{\text{ét}}(X_{\overline{s}}, \mathbb{Q}_\ell), $$

where $\overline{t}$ lies over $t \in T$, and $\overline{s}$ its image in $S$.

\end{proposition}


\begin{theorem}[Proper base change theorem]
Let $f : X \to Y$ be a proper morphism of schemes, and let $\ell$ be a prime invertible on $Y$. Then for any sheaf of $\mathbb{Z}_\ell$-modules $\mathcal{F}$ on $X_{\text{ét}}$, the higher direct image sheaves $R^if_*\mathcal{F}$ on $Y_{\text{ét}}$ satisfy
$$
(R^i f_* \mathcal{F})_y \cong H^i_{\text{ét}}(X_y, \mathcal{F}|_{X_y})
$$
for each geometric point $y$ of $Y$, where $X_y$ is the fiber over $y$.
\end{theorem}

\begin{theorem}[Smooth and proper base change compatibility]
Under suitable smooth and proper morphisms, the formation of étale cohomology commutes with base change on the target scheme. More precisely, given a cartesian square
\[
\begin{aligned}
X' &\to X \\
\downarrow & \;\;\;\downarrow \\
Y' &\to Y
\end{aligned}
\]
with $f:X \to Y$ smooth and proper, and a prime $\ell$ invertible on $Y$, the natural base change morphism induces isomorphisms in étale cohomology
$$
H^i_{\text{ét}}(X_y, \mathbb{Q}_\ell) \cong H^i_{\text{ét}}(X'_{y'}, \mathbb{Q}_\ell)
$$
for geometric points $y$ of $Y$ and $y'$ over $y$ in $Y'$.
\end{theorem}


\subsection{Poincar\'e duality}


\begin{theorem}[Generalized Poincaré Duality in Étale Cohomology]
    \TODO{read this}
Let $k$ be a separably closed field, and let $X$ be a smooth, separated scheme of finite type over $k$, of pure dimension $d$. Let $\ell$ be a prime different from $\operatorname{char}(k)$. 

Let $\Lambda$ be one of the following coefficient rings: 
\begin{itemize}
  \item a finite extension of $\mathbb{Z}_\ell$, 
  \item the ring of integers $\mathcal{O}_E$ of a finite extension $E$ of $\mathbb{Q}_\ell$, 
  \item $E$ itself, or 
  \item an algebraic closure $\overline{\mathbb{Q}}_\ell$.
\end{itemize}

Let $\mathcal{F}^\bullet$ be a bounded constructible complex of $\Lambda$-modules on the étale site $X_{\et}$.

Then there is a canonical perfect pairing in the derived category of $\Lambda$-modules:
$$
R\Gamma_{\et}(X, \mathcal{F}^\bullet) \;\otimes_{\Lambda}^{\mathbf{L}}\; R\Gamma_c^{\et}(X, R\mathcal{H}om_{\Lambda}(\mathcal{F}^\bullet, \Lambda(d)[2d])) \;\longrightarrow\; \Lambda[-2d],
$$
where $R\Gamma_c^{\et}$ denotes étale cohomology with compact support, and 
$$
\Lambda(d) := \underbrace{\Lambda(1) \otimes_{\Lambda} \cdots \otimes_{\Lambda} \Lambda(1)}_{d \text{ times}}
$$
is the $d$-th Tate twist.

In particular, this induces a perfect duality between finite generated $\Lambda$-modules
$$
H^i_{\et}(X, \mathcal{F}^\bullet) \cong \operatorname{Hom}_{\Lambda}(H_c^{2d - i}(X, R\mathcal{H}om_{\Lambda}(\mathcal{F}^\bullet, \Lambda(d)[2d])), \Lambda).
$$

\textbf{Remarks:}
\begin{itemize}
    \item For projective $X$, $R\Gamma_c^{\et}$ can be replaced by the usual cohomology $R\Gamma_{\et}$.
    \item The duality is a manifestation of Verdier duality and requires the formalism of the six operations and dualizing complexes in étale cohomology.
    \item This generalizes classical Poincaré duality by allowing more general coefficient complexes and non-projective varieties with compact support.
\end{itemize}
\end{theorem}

\subsection{Lefschetz trace formula}

\begin{theorem}[Lefschetz trace formula in étale cohomology]
    \TODO{read}
Let $X$ be a separated scheme of finite type over a finite field $\mathbb{F}_q$, and let $\ell$ be a prime number not dividing $q$. Then the number of $\mathbb{F}_q$-rational points of $X$ is given by the Lefschetz trace formula:
$$
|X(\mathbb{F}_q)| = \sum_{i=0}^{2 \dim(X)} (-1)^i \operatorname{Tr}(\operatorname{Frob}_q^* \mid H^i_{\text{ét}}(X_{\overline{\mathbb{F}}_q}, \mathbb{Q}_\ell)),
$$
where $\operatorname{Frob}_q$ is the geometric Frobenius acting on the $\ell$-adic étale cohomology groups of $X$.

\end{theorem}

\begin{theorem}[Grothendieck–Lefschetz trace formula in terms of traces]
Let $X_0$ be a separated scheme of finite type over a finite field $\mathbb{F}_q$. Denote by $\overline{X} = X_0 \times_{\mathbb{F}_q} \overline{\mathbb{F}}_q$ the base change to an algebraic closure, and let $K_0 \in D_c^b(X_0, \overline{\mathbb{Q}}_\ell)$ be a bounded constructible complex of étale sheaves.

Then the number of fixed points of the $n$-th iterate of the geometric Frobenius on $X_0$, weighted by the trace of the induced endomorphism on stalks of $K_0$, satisfies the formula
$$
\sum_{x \in X_0(\mathbb{F}_{q^n})} \operatorname{tr}\left( ( \mathrm{Frob}_{q^n} )_x \mid K_{0,\overline{x}} \right) = \sum_{i \in \mathbb{Z}} (-1)^i \operatorname{tr}\left( \mathrm{Frob}_{q^n} \mid H_c^i(\overline{X}, K) \right),
$$
where $K$ denotes the pullback of $K_0$ to $\overline{X}$, and $( \mathrm{Frob}_{q^n} )_x$ is the induced action on the stalk of $K_0$ at a geometric point over $x$.

In particular, this expresses the weighted count of $\mathbb{F}_{q^n}$-rational points on $X_0$ in terms of traces of Frobenius on étale cohomology with compact support, encapsulating the Grothendieck–Lefschetz trace formula in terms of traces rather than directly using determinant or Frobenius polynomials.
\end{theorem}


\subsection{Weil conjectures}

\begin{theorem}[Weil Conjectures via Étale Cohomology]
Let $X$ be a smooth projective variety of pure dimension $d$ defined over a finite field $\mathbb{F}_q$. Let $\ell$ be a prime number different from the characteristic of $\mathbb{F}_q$. Let $F$ denote the geometric Frobenius endomorphism acting on the étale cohomology groups $H^i_{\mathrm{\acute{e}t}}(\overline{X}, \mathbb{Q}_\ell)$, where $\overline{X} = X \times_{\mathbb{F}_q} \overline{\mathbb{F}}_q$.

Then the Weil conjectures state the following:

\begin{enumerate}
    \item (Rationality) The zeta function
    $$
    Z(X, t) = \exp\left( \sum_{n=1}^\infty \frac{\# X(\mathbb{F}_{q^n})}{n} t^n \right)
    $$
    is a rational function which can be expressed as
    $$
    Z(X,t) = \prod_{i=0}^{2d} P_i(t)^{(-1)^{i+1}},
    $$
    where each $P_i(t) = \det(1 - t F \mid H^i_{\mathrm{\acute{e}t}}(\overline{X}, \mathbb{Q}_\ell))$ is a polynomial with coefficients in $\mathbb{Q}_\ell$.
    
    \item (Functional Equation) The zeta function satisfies a functional equation relating $Z(X,t)$ and $Z(X, q^{-d} t^{-1})$, induced by Poincaré duality on cohomology and the action of $F$.
    
    \item (Betti Numbers) Each polynomial $P_i(t)$ has degree equal to the $i$-th Betti number of $X$ (i.e., $\dim_{\mathbb{Q}_\ell} H^i_{\mathrm{\acute{e}t}}(\overline{X}, \mathbb{Q}_\ell)$).
    
    \item (Riemann Hypothesis) The eigenvalues of the geometric Frobenius $F$ acting on $H^i_{\mathrm{\acute{e}t}}(\overline{X}, \mathbb{Q}_\ell)$ are algebraic numbers, all of whose complex absolute values equal $q^{i/2}$.
\end{enumerate}

This theorem links the counting of points over finite fields to the action of Frobenius on étale cohomology and provides a cohomological interpretation and proof of the Weil conjectures.
\end{theorem}


Here is another, more general, formulation of the rationality statement of the Weil conjectures:

\input{../_concepts/theorem_grothendieck_L_function_of_a_complex_is_a_determinant_of_the_total_compactly_supported_cohomology_of_the_complex.tex}


\section{Ekedahl's formalism}

\TODO{discuss what \cite{ekedahl_af} does} We will discuss Ekedahl's formalism on the \CrefAndHyperrefIfExist{definition:small_etale_site_of_a_scheme}{small \'etale site} of finite type and seperated schemes over regular bases of dimension $0$ or $1$ 

\begin{remark}
    Ekedahl's definitions and notations \cite{ekedahl_af} are developed in terms of a ringed topos $(S,R)$. We will develop definitions and notations of his theory in terms of a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site}. 
\end{remark}

\begin{definition}[Categories of Inverse and Direct Sequences of objects in a category]
\label{definition:category_of_inverse_direct_sequences_of_objects_in_a_category}
    Let $\mathcal{C}$ be a \CrefAndHyperrefIfExist{definition:category}{category}. 
    \begin{enumerate}
        \item  The \hldef{category of inverse sequences} or \hldef{Pro-category indexed by $\mathbb{N}$}, denoted by \hl{$\mathrm{Pro}_{\mathbb{N}}(\mathcal{C})$}, is defined as follows:
        \begin{itemize}
            \item Objects are sequences $(M_n, p_n)_{n \geq 1}$ where for each $n \geq 1$, $M_n \in \mathrm{Ob}(\mathcal{C})$ and $p_n : M_{n+1} \to M_n$ is a morphism in $\mathcal{C}$.
            \item A morphism $f : (M_n, p_n) \to (N_n, q_n)$ consists of a collection of morphisms $\{f_n : M_n \to N_n\}_{n \geq 1}$ in $\mathcal{C}$ satisfying the compatibility condition
            $$
            \forall n \geq 1, \quad q_n \circ f_{n+1} = f_n \circ p_n.
            $$
        \end{itemize}
        Composition and identities are defined componentwise. 


        \item The \hldef{category of direct sequences} or \hldef{Ind-category indexed by $\mathbb{N}$}, denoted by \hl{$\mathrm{Ind}_{\mathbb{N}}(\mathcal{C})$}, is defined as follows:
        \begin{itemize}
            \item Objects are sequences $(M_n, i_n)_{n \geq 1}$ where for each $n \geq 1$, $M_n \in \mathrm{Ob}(\mathcal{C})$ and $i_n : M_n \to M_{n+1}$ is a morphism in $\mathcal{C}$.
            \item A morphism $f : (M_n, i_n) \to (N_n, j_n)$ consists of a collection of morphisms $\{f_n : M_n \to N_n\}_{n \geq 1}$ in $\mathcal{C}$ satisfying the compatibility condition
            $$
            \forall n \geq 1, \quad j_n \circ f_n = f_{n+1} \circ i_n.
            $$
        \end{itemize}
        Composition and identities are defined componentwise.
    \end{enumerate}

    Equivalently, $\mathrm{Pro}_{\mathbb{N}}(\mathcal{C})$ and $\mathrm{Ind}_{\bbN}(\calC)$ may be regarded as the functor categories $\operatorname{Fun}(\mathbb{N}^{\op}, \calC)$ and $\operatorname{Fun}(\mathbb{N}, \calC)$ respectively, where $\bbN$ is \CrefAndHyperrefIfExist{lemma:posets_correspond_to_small_filtered_thin_categories}{regarded} as a \CrefAndHyperrefIfExist{definition:partially_ordered_set}{poset} category with objects $1,2,\ldots$ with a unique morphism $n \to m$ if and only if $n \leq m$.
\end{definition}

\begin{context} \label{context:ekedahl_af_ringed_topos_category_of_inverse_sequences}
    Let $(\calC, J, R)$ be a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site} and let $m \subseteq R$ be a two-sided ideal. Write $S$ for the \CrefAndHyperrefIfExist{definition:topos}{topos} of $(\calC, J)$. Let $\mathrm{Pro}_\bbN(S)$ be the \CrefAndHyperrefIfExist{definition:category_of_inverse_direct_sequences_of_objects_in_a_category}{category of inverse sequences of $S$}; this is equivalent to the \CrefAndHyperrefIfExist{definition:diagram_in_a_category_indexed_by_a_small_category}{functor category $[\bbN^{\op}, S]$} and is a \CrefAndHyperrefIfExist{theorem:functor_category_of_a_grothendieck_topos_indexed_by_a_small_category_is_a_grothendieck_topos}{topos} itself. Regard it as a ringed topos equipped with \CrefAndHyperref{definition:ringed_site_structure_on_category_of_inverse_sequences_of_a_site}{$R_\bullet$}.

\end{context}


\begin{context} \label{context:ekedahl_af_topos_moprhism_from_Pro_N_S_to_S}
    Assume \Cref{context:ekedahl_af_ringed_topos_category_of_inverse_sequences}. Write $\pi: \mathrm{Pro}_\bbN(S) \to S$ for the topos morphism \TODO{topos morphism} given by $\pi_* M_\bullet = \varprojlim M_\bullet$ and $\pi^* M = \{M, \id\}_{n \geq 1}$, i.e. the system consisting of the objects $M$ at each level and the identity maps between them. 
\end{context}

\begin{definition} \label{definition:ringed_site_structure_on_category_of_inverse_sequences_of_a_site}
    % Let $(\calC, J, R)$ be a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site} and let $m \subseteq R$ be a two-sided ideal. Write $S$ for the \CrefAndHyperrefIfExist{definition:topos}{topos} of $(\calC, J)$. Let $\mathrm{Pro}_\bbN(S)$ be the \CrefAndHyperrefIfExist{definition:category_of_inverse_direct_sequences_of_objects_in_a_category}{category of inverse sequences of $S$}; this is equivalent to the \CrefAndHyperrefIfExist{definition:diagram_in_a_category_indexed_by_a_small_category}{functor category $[\bbN^{\op}, S]$} and is a \CrefAndHyperrefIfExist{theorem:functor_category_of_a_grothendieck_topos_indexed_by_a_small_category_is_a_grothendieck_topos}{topos} itself.
    % Write $\pi: \mathrm{Pro}_\bbN(S) \to S$ for the topos morphism \TODO{topos morphism} given by $\pi_* M_\bullet = \varprojlim M_\bullet$ and $\pi^* M = \{M, \id\}_{n \geq 1}$, i.e. the system consisting of the objects $M$ at each level and the identity maps between them. 
    Assume \Cref{context:ekedahl_af_topos_moprhism_from_Pro_N_S_to_S}.
    There is a ring object, which we might sometimes denote by \hl{$R_\bullet$}, given by the projective system
    $$\cdots \to R/m^{n+1} \to R/m^n \to  \cdots.$$
    When $\mathrm{Pro}_\bbN(S)$ is equipped with $R_\bullet$, $\pi$ is a morphism of ringed topoi. \TODO{morphism of ringed topoi}. In particular, for an object $M$ of the ringed topos $(S, R)$, its pullback $\pi^* M$ is the inverse system $\{M \otimes_R R_n\}_{n \geq 1}$. 
\end{definition}

\begin{definition} \label{definition:essentially_zero_inverse_sequence_of_sheaves_of_abelian_groups_on_a_site}
%    Let $(\calC, J, R)$ be a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site} and let $m \subseteq R$ be a two-sided ideal. Write $S$ for the \CrefAndHyperrefIfExist{definition:topos}{topos} of $(\calC, J)$. Let $\mathrm{Pro}_\bbN(S)$ be the \CrefAndHyperrefIfExist{definition:category_of_inverse_direct_sequences_of_objects_in_a_category}{category of inverse sequences of $S$}; this is equivalent to the \CrefAndHyperrefIfExist{definition:diagram_in_a_category_indexed_by_a_small_category}{functor category $[\bbN^{\op}, S]$} and is a \CrefAndHyperrefIfExist{theorem:functor_category_of_a_grothendieck_topos_indexed_by_a_small_category_is_a_grothendieck_topos}{topos} itself. Regard it as a ringed topos equipped with \CrefAndHyperref{definition:ringed_site_structure_on_category_of_inverse_sequences_of_a_site}{$R_\bullet$}.
    Assume \Cref{context:ekedahl_af_ringed_topos_category_of_inverse_sequences}

   \begin{enumerate}
    \item We say that an abelian group object $M_\bullet$ of $\mathrm{Pro}_\bbN(S)$ is \hldef{essentially zero} if there is a covering of the \CrefAndHyperrefIfExist{definition:initial_final_zero_objects_of_a_category}{final object} of $S$ such that, when $M_\bullet$ is restricted to each element of the covering, there is for all $n$ an $m \geq n$ such that the map $M_m \to M_n$ in $M_\bullet$ is zero. 

    \item Let $M^\bullet$ be a \CrefAndHyperrefIfExist{definition:chain_complex_of_objects_in_an_additive_category}{complex} of abelian group objects of $\mathrm{Pro}_{\bbN}(S)$. We say that $M^\bullet$ is \hldef{essentially zero} if \CrefAndHyperrefIfExist{definition:homology_and_cohomology_objects_for_a_chain_complex_in_an_additive_category}{$H^i(M^\bullet)$} is essentially zero for all $i$.

    The category of essentially zero complexes form a \CrefAndHyperrefIfExist{definition:triangulated_category}{triangulated subcategory} of the category of complexes of abelian group objects of $\mathrm{Pro}_{\bbN}(S)$.

    One may say that $M^\bullet$ is \hldef{essentially bounded}, \hldef{essentially bounded from below}, or \hldef{essentially bounded from above}, if $H^m(M^\bullet)$ is essentially zero for all $m$ with $|m| \gg 0$, $-m \gg 0$, and $m \gg 0$ respectively. 

    The \CrefAndHyperrefIfExist{definition:derived_category_of_an_abelian_category}{(derived) categories} of essentially bounded, essentially bounded from below, and essentially bounded from above complexes of $R$-module objects of $\mathrm{Pro}_{\bbN}(S)$ may be denoted by \hl{$D^{eb}(\mathrm{Pro}_{\bbN}(S), R_\bullet)$}, \hl{$D^{e+}(\mathrm{Pro}_{\bbN}(S), R_\bullet)$}, and \hl{$D^{e-}(\mathrm{Pro}_{\bbN}(S), R_\bullet)$} respectively\footnote{In \cite{ekedahl_af}, these are denoted by $D^{eb}(S^\bbN-R_\bullet)$, etc.}. 
    
   \end{enumerate}
\end{definition}

\begin{notation} \label{notation:derived_category_of_category_of_modules_of_a_ringed_site}
    Let $(S,R)$ be a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site}. Write \hl{$D(S, R)$} for the \CrefAndHyperrefIfExist{definition:derived_category_of_an_abelian_category}{derived category} of the category of \CrefAndHyperrefIfExist{definition:module_over_a_sheaf_of_rings_on_a_site}{$R$-modules}. Accordingly, \hl{$D^+(S, R)$}, \hl{$D^-(S,R)$}, and \hl{$D^b(A)$} may be used to denote the full subcategories of \CrefAndHyperrefIfExist{definition:bounded_complexes_on_an_additive_category_and_homologically_bounded_objects_on_an_abelian_category}{cohomologically bounded below, cohomologically bounded above, and cohomologically bounded complexes} respectively, cf. \Cref{definition:derived_category_of_an_abelian_category}
    % $D(\mathrm{Pro}_\bbN(S), R_\bullet)$
\end{notation}


\begin{definition}[{\cite[Section 1]{ekedahl_af}}]  \label{definition:ekedahls_condition_A_and_B}
    Assume \Cref{context:ekedahl_af_topos_moprhism_from_Pro_N_S_to_S}.
%    Let $(\calC, J, R)$ be a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site} and let $m \subseteq R$ be a two-sided ideal. Write $S$ for the \CrefAndHyperrefIfExist{definition:topos}{topos} of $(\calC, J)$. Let $\mathrm{Pro}_\bbN(S)$ be the \CrefAndHyperrefIfExist{definition:category_of_inverse_direct_sequences_of_objects_in_a_category}{category of inverse sequences of $S$}; this is equivalent to the \CrefAndHyperrefIfExist{definition:diagram_in_a_category_indexed_by_a_small_category}{functor category $[\bbN^{\op}, S]$} and is a \CrefAndHyperrefIfExist{theorem:functor_category_of_a_grothendieck_topos_indexed_by_a_small_category_is_a_grothendieck_topos}{topos} itself.
%    Write $\pi: \mathrm{Pro}_\bbN(S) \to S$ be the topos morphism \TODO{topos morphism} given by $\pi_* M_\bullet = \varprojlim M_\bullet$ and $\pi^* M = \{M, \id\}_{n \geq 1}$, i.e. the system consisting of the objects $M$ at each level and the identity maps between them. Regard it as a ringed topos equipped with \CrefAndHyperref{definition:ringed_site_structure_on_category_of_inverse_sequences_of_a_site}{$R_\bullet$}.
   \begin{enumerate}
    \item We may say that $(\calC, J, R)$ or $(S,R)$ \hldef{satisfies Ekedahl's condition $A$} if the following holds: there exists a class $S^{\text{gen}}$ of \CrefAndHyperrefIfExist{definition:generator_of_a_category}{generators of $S$} and an integer $N$ such that for all $T \in S^{\text{gen}}$, all $R/m$-\CrefAndHyperrefIfExist{definition:module_over_a_sheaf_of_rings_on_a_site}{modules} $M$, and $i > N$, we have $H^i(T,M) = 0$.

    \item We may say that $(\calC, J, R)$ or $(S,R)$ \hldef{satisfies Ekedahl's condition $B$} if the following hold: 
    \begin{itemize}
        \item there is an integer $N$ such that for every $n \geq 1$ and locally on $(\calC, J)$, there is a \CrefAndHyperrefIfExist{definition:left_right_resolution_of_a_class_of_objects_in_an_abelian_category}{left resolution} $F_n^\bullet \to R/m^n$ of $R/m^n$ by a complex of (right) $R$-modules of finitely generated free objects such that $\pi^* F_n^\bullet \to \pi^*(R/m^n)$ is a resolution modulo essentially zero systems \TODO{essentially zero system}, where $\pi: (\mathrm{Pro}_{\bbN}(S), R_\bullet) \to (S,R)$ is considered as a morphism of ringed topoi. 

        \item $m^n/m^{n+1}$ is, locally on $(\calC, J)$, of finite Tor-dimension over $R/m$. \TODO{finite Tor dimension}
    \end{itemize}
    
   \end{enumerate}  
\end{definition}

\begin{notation}[{\cite[After Lemma 1.1]{ekedahl_af}}] \label{notation:ekedahl_af_tau_M_either_pro_object_of_truncations_or_M_depending_on_whether_ekedahls_condition_A_holds}
    Assume \Cref{context:ekedahl_af_ringed_topos_category_of_inverse_sequences}
%    Let $(\calC, J, R)$ be a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site} and let $m \subseteq R$ be a two-sided ideal. Write $S$ for the \CrefAndHyperrefIfExist{definition:topos}{topos} of $(\calC, J)$. Let $\mathrm{Pro}_\bbN(S)$ be the \CrefAndHyperrefIfExist{definition:category_of_inverse_direct_sequences_of_objects_in_a_category}{category of inverse sequences of $S$}; this is equivalent to the \CrefAndHyperrefIfExist{definition:diagram_in_a_category_indexed_by_a_small_category}{functor category $[\bbN^{\op}, S]$} and is a \CrefAndHyperrefIfExist{theorem:functor_category_of_a_grothendieck_topos_indexed_by_a_small_category_is_a_grothendieck_topos}{topos} itself. Regard it as a ringed topos equipped with \CrefAndHyperref{definition:ringed_site_structure_on_category_of_inverse_sequences_of_a_site}{$R_\bullet$}.

   Given $M \in D^{e+}(\mathrm{Pro}_\bbN(S), \bbZ_\bullet)$, \cite{ekedahl_af} lets \hl{$\tau(M)$} denote the following:
   \begin{itemize}
    \item If $(\calC, J, R)$ satisifes \CrefAndHyperrefIfExist{definition:ekedahls_condition_A_and_B}{Ekedahl's condition $A$}, then $\tau(M) = M$. 
    \item Otherwise, $\tau(M)$ is the pro-object
    $$(\cdots \to \tau_{i - 1} M \to \tau_{\geq i} M \to \tau_{i +1} M \to \cdots)$$
    (\Cref{definition:canonical_truncation_of_chain_complexes_of_objects_in_an_abelian_category}).
   \end{itemize}
   \TODO{Talk about $R\pi_* M$}
\end{notation}


\begin{definition}[{\cite[Definition 2.1]{ekedahl_af}}] \label{definition:ekedahl_af_R_complex_negligible_normalised_objects_of_the_derived_category_of_modules_over_ring_of_category_of_inverse_sequences_essentially_an_isomorphism}
    Assume \Cref{context:ekedahl_af_topos_moprhism_from_Pro_N_S_to_S}
%    Let $(\calC, J, R)$ be a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site} and let $m \subseteq R$ be a two-sided ideal. Write $S$ for the \CrefAndHyperrefIfExist{definition:topos}{topos} of $(\calC, J)$. Let $\mathrm{Pro}_\bbN(S)$ be the \CrefAndHyperrefIfExist{definition:category_of_inverse_direct_sequences_of_objects_in_a_category}{category of inverse sequences of $S$}; this is equivalent to the \CrefAndHyperrefIfExist{definition:diagram_in_a_category_indexed_by_a_small_category}{functor category $[\bbN^{\op}, S]$} and is a \CrefAndHyperrefIfExist{theorem:functor_category_of_a_grothendieck_topos_indexed_by_a_small_category_is_a_grothendieck_topos}{topos} itself.
%    Write $\pi: \mathrm{Pro}_\bbN(S) \to S$ for the topos morphism \TODO{topos morphism} given by $\pi_* M_\bullet = \varprojlim M_\bullet$ and $\pi^* M = \{M, \id\}_{n \geq 1}$, i.e. the system consisting of the objects $M$ at each level and the identity maps between them. Regard it as a ringed topos equipped with \CrefAndHyperref{definition:ringed_site_structure_on_category_of_inverse_sequences_of_a_site}{$R_\bullet$}.

    Let $M,N$ be objects \CrefAndHyperrefIfExist{notation:derived_category_of_category_of_modules_of_a_ringed_site}{$D(\mathrm{Pro}_\bbN(S), R_\bullet)$}.
    \begin{enumerate}
        \item We may say that $M$ is an \hldef{$R$-complex} if $\pi^*(R_1) \otimes_{R_\bullet}^L M$ \TODO{derived tensor product} is essentially constant \TODO{essentially constant}

        \item $M$ is \hldef{negligible} if $\pi^*(R_1) \otimes_{R_\bullet}^L M$ is \CrefAndHyperrefIfExist{definition:essentially_zero_inverse_sequence_of_sheaves_of_abelian_groups_on_a_site}{essentially zero}.


        \item $M$ is \hldef{normalised} if $\tau(\widehat{M}) \to \tau(M)$ (\Cref{notation:ekedahl_af_tau_M_either_pro_object_of_truncations_or_M_depending_on_whether_ekedahls_condition_A_holds})\TODO{$\widehat{M}$; what is the morphism $\tau(\widehat{M}) \to \tau(M)$} is a \CrefAndHyperrefIfExist{definition:quasi_isomorphism_of_chain_complexes_of_objects_in_an_abelian_category}{quasi-isomorphism}. 

        \item A morphism $M \to N$ is \hldef{essentially an isomorphism} if it has a negligible \CrefAndHyperrefIfExist{definition:mapping_cone_of_a_map_of_chain_cochain_complexes}{mapping cone}.
    \end{enumerate}
\end{definition}

\begin{context} \label{context:ekedahl_af_superscript_for_ekedahls_categories}
    Assume \Cref{context:ekedahl_af_topos_moprhism_from_Pro_N_S_to_S}; in particular, \Cref{context:ekedahl_af_ringed_topos_category_of_inverse_sequences} is also assumed. Assume that \CrefAndHyperref{definition:ekedahls_condition_A_and_B}{Ekedahl's condition $A$ or $B$ holds}.
    Let 
    $$
    * = \begin{cases} - &\text{if Ekedahl's condition A holds} \\ e+ &\text{if Ekedahl's condition B holds} \\ (\text{blank}) &\text{if both Ekedahl's condition A and condition B hold}. \end{cases}
    $$
    In particular, we will consider the category \CrefAndHyperrefIfExist{notation:derived_category_of_category_of_modules_of_a_ringed_site}{$D^-(\mathrm{Pro}_\bbN, R_\bullet)$}, \CrefAndHyperrefIfExist{definition:essentially_zero_inverse_sequence_of_sheaves_of_abelian_groups_on_a_site}{$D^{e+}(\mathrm{Pro}_\bbN, R_\bullet)$}, or \CrefAndHyperrefIfExist{notation:derived_category_of_category_of_modules_of_a_ringed_site}{$D(\mathrm{Pro}_\bbN, R_\bullet)$}, depending on which combination of A and B holds. 
\end{context}

\begin{proposition}[{\cite[Proposition 2.2]{ekedahl_af}}]
    Assume \Cref{context:ekedahl_af_superscript_for_ekedahls_categories}.
    \begin{enumerate}
        \item $M$ is an \CrefAndHyperrefIfExist{definition:ekedahl_af_R_complex_negligible_normalised_objects_of_the_derived_category_of_modules_over_ring_of_category_of_inverse_sequences_essentially_an_isomorphism}{$R$-complex} if and only if $\tau(\widehat{M}) \to \tau(M)$ (\Cref{notation:ekedahl_af_tau_M_either_pro_object_of_truncations_or_M_depending_on_whether_ekedahls_condition_A_holds}) \TODO{$\widehat{M}$} is \CrefAndHyperrefIfExist{definition:ekedahl_af_R_complex_negligible_normalised_objects_of_the_derived_category_of_modules_over_ring_of_category_of_inverse_sequences_essentially_an_isomorphism}{essentially an isomorphism}.

        \item $M$ is \CrefAndHyperrefIfExist{definition:ekedahl_af_R_complex_negligible_normalised_objects_of_the_derived_category_of_modules_over_ring_of_category_of_inverse_sequences_essentially_an_isomorphism}{normalised} if and only if $R_n \otimes_{R_{n+1}}^L i_{n+1}^* M \to i_n^* M$ is an isomorphism for all $n$. \TODO{tensor product, $i_n^*$}

        \item Let $?$ be $-$, $+$, or blank if Ekedahl's condition A, condition B, or conditions A and B hold respectively. Let \CrefAndHyperrefIfExist{notation:derived_category_of_category_of_modules_of_a_ringed_site}{$M' \in D^?(S,R)$}.  The object $L\pi^* M'$ \TODO{$L\pi^*$} belongs to $D^?(\mathrm{Pro}_\bbN, R_\bullet)$. In particular, $\widehat{M}$ is normalised. 
    \end{enumerate}
\end{proposition}


\begin{definition}[cf. {\cite[Definition 2.5]{ekedahl_af}}] \label{definition:ekedahls_adic_category_of_a_ringed_site}
    \TODO{I don't think this is quite the right definition of Ekedahl's category; somehow, the conditoin that the transition maps induce isomorphisms need to be incorporated.}
    Assume \Cref{context:ekedahl_af_topos_moprhism_from_Pro_N_S_to_S}.

    Denote by \hl{$D_{\mathrm{Ek}}(S, R)$} or \hl{$D_{\mathrm{Ek}}(\calC, R)$} the category whose objects are \CrefAndHyperrefIfExist{definition:ekedahl_af_R_complex_negligible_normalised_objects_of_the_derived_category_of_modules_over_ring_of_category_of_inverse_sequences_essentially_an_isomorphism}{$R$-complexes} and morphisms are the morphisms \CrefAndHyperrefIfExist{notation:ekedahl_af_tau_M_either_pro_object_of_truncations_or_M_depending_on_whether_ekedahls_condition_A_holds}{$\tau(M) \to \tau(N)$} with \CrefAndHyperrefIfExist{definition:essentially_zero_inverse_sequence_of_sheaves_of_abelian_groups_on_a_site}{essential isomorphisms} inverted. For $* \in \{b,+,-\}$, Denote by \hl{$D_{\mathrm{Ek}}^*(S,R)$} or \hl{$D_{\mathrm{Ek}}^*(\calC,R)$} the full subcategory whose objects are the complexes which are \CrefAndHyperrefIfExist{definition:essentially_zero_inverse_sequence_of_sheaves_of_abelian_groups_on_a_site}{essentially bounded, essentially bounded from below, and essentially bounded from above} respectively. 

    It is appropriate to call these categories \hldef{``Ekedahl's adic categories''}. By abuse of language in conflict with the terminology of \Cref{definition:ekedahl_af_R_complex_negligible_normalised_objects_of_the_derived_category_of_modules_over_ring_of_category_of_inverse_sequences_essentially_an_isomorphism}, \cite{ekedahl_af} calls the objects of $D_{\mathrm{Ek}}(S,R)$ \hldef{$R$-complexes}.
\end{definition}

\begin{theorem}[{\cite[Proposition 2.7]{ekedahl_af}}]
    Assume \Cref{context:ekedahl_af_topos_moprhism_from_Pro_N_S_to_S}. Let $* \in \{b,+,-\}$. 
    \begin{enumerate}
        \item $R_1 \otimes_R^L (-): D_{\mathrm{Ek}}(S,R) \to D(S,R_1)$ \TODO{tensor product} (\Cref{context:ekedahl_af_ringed_topos_category_of_inverse_sequences}, \Cref{definition:ekedahls_adic_category_of_a_ringed_site}, \Cref{notation:derived_category_of_category_of_modules_of_a_ringed_site}) is conservative. \TODO{conservative functor}

        \item Letting $D_{\mathrm{norm}}^*(\mathrm{Pro}_\bbN(S), R_\bullet) \subset D^*(\mathrm{Pro}_\bbN(S), R_\bullet)$ (\Cref{definition:category_of_inverse_direct_sequences_of_objects_in_a_category}, \Cref{notation:derived_category_of_category_of_modules_of_a_ringed_site}) be the subcategory of \CrefAndHyperrefIfExist{definition:ekedahl_af_R_complex_negligible_normalised_objects_of_the_derived_category_of_modules_over_ring_of_category_of_inverse_sequences_essentially_an_isomorphism}{normalised $R$-complexes}. The canonical functor
        $$D_{\mathrm{norm}}^*(\mathrm{Pro}_\bbN(S), R_\bullet) \to D_{\mathrm{Ek}}^*(S-R)$$
        \TODO{What is this canonical functor}
        and the functor
        $$(\widehat{-}): D_{\mathrm{Ek}}^*(S-R) \to D_{\mathrm{norm}}^*(\mathrm{Pro}_\bbN(S), R_\bullet)$$
        are inverse \CrefAndHyperrefIfExist{definition:equivalence_of_categories}{equivalences of categories}.
    \end{enumerate}
\end{theorem}

\begin{theorem}[{\cite[Theorem 6.3]{ekedahl_af}}]
    \TODO{regular ring, scheme}
     Let $S$ be a regular scheme of \CrefAndHyperrefIfExist{definition:dimension_of_a_scheme}{dimension} at most $1$. Let $R$ be a \CrefAndHyperrefIfExist{definition:commutative_ring}{commutative}, \CrefAndHyperrefIfExist{definition:local_ring}{local}, regular ring with maximal ideal $m$ such that the residue field $R_1 = R/m$ is of positive characteristic invertible in $\calO_s$. Write $R$ also for the  \CrefAndHyperrefIfExist{definition:constant_sheaf_on_a_site_with_sheafification}{constant sheaf} of $R$ on \CrefAndHyperrefIfExist{definition:small_etale_site_of_a_scheme}{$S_{\et}$}. Let $c$ be the full subcategory of the category of sheaves of \CrefAndHyperrefIfExist{definition:module_over_a_sheaf_of_rings_on_a_site}{$R_1$-modules} whose objects are \CrefAndHyperrefIfExist{definition:constructible_sheaf_on_a_small_site_on_a_scheme_or_a_topological_space}{constructible}.

     Let $X,Y$ be $S$-schemes
     \begin{enumerate}
        \item The category \TODO{Ekedahl's constructible, bounded category}$D_c^b(X_{\et}, R)$ and the functor
        $$R_1 \otimes_R^L (-): D_c^b(X_{\et}, R) \to D_c^b(X_{\et}, R_1)$$
        is a conservative triangulated functor \TODO{conservative triangulated functor}

        \item $D_c^b(X_{\et}, R)$ has a $t$-structure \TODO{} whose heart is equivalent to the category of $m$-adic constructible sheaves and for which every object of $D_c^b(X_{\et}, R)$ has finite amplitude, i.e. $D_c^b(X_{\et}, R) = \bigcup_{i \in \bbZ} D_c^b(X_{\et}, R)^{\geq i} = \bigcup_{i \in \bbZ} D_c^b(X_{\et}, R)^{\leq i}$. 

        \item \TODO{tensor and RHom}
        \item \TODO{pushforward, pullback}
        \item \TODO{perverse sheaves}
     \end{enumerate}
\end{theorem}


\section{Pro-\'etale topology}

\input{../_definitions/definition_diagonal_morphism_of_a_morphism_of_schemes.tex}
\input{../_definitions/definition_weakly_etale_morphism_of_schemes.tex}



\begin{definition}[Pro-\'etale site of a scheme, {\cite[Definition 1.2]{bhatt_scholze_pfgs}}] \label{definition:pro_etale_site_of_a_scheme}
    Let $X$ be a \CrefAndHyperrefIfExist{definition:scheme}{scheme}. The \hldef{pro-\'etale site} \hl{$X_{\proet}$} is the site whose underlying category is the category of \CrefAndHyperrefIfExist{definition:weakly_etale_morphism_of_schemes}{weakly \'etale} $X$-schemes and whose covers are covers in the \CrefAndHyperrefIfExist{definition:big_fpqc_site_of_a_scheme}{fpqc topology}, i.e. a family $\{Y_i \to Y\}$ of maps on $X_{\proet}$ is a covering family if any open affine in $Y$ is mapped onto by an open affine in $\coprod_i Y_i$. 
\end{definition}

\begin{theorem}
    \TODO{the categories}
    Let $\ell$ be a prime number. Let $E$ be an algebraic extension of $\bbQ_\ell$. The triangulated category $D_{\mathrm{cons}}(X_{\proet}, E)$ is equivalent to the triangulated category traditionally called $D_c^b(X,E)$
\end{theorem}


\appendix

\subsection{Categorical definitions}

\input{../_definitions/definition_category.tex}
\input{../_definitions/definition_grothendieck_universe.tex}

\begin{definition}[Coarser and finer Grothendieck topologies] \label{definition:coarser_and_finer_grothendieck_topologies}
    Let $\mathcal{C}$ be a \CrefAndHyperrefIfExist{definition:category}{category} and let $\tau, \tau'$ be two \CrefAndHyperrefIfExist{theorem:grothendieck_L_function_of_a_complex_is_a_determinant_of_the_total_compactly_supported_cohomology_of_the_complex}{Grothendieck topologies} on $\mathcal{C}$.

    We say that \hldef{$\tau$ is finer than $\tau'$} (or equivalently, \hldef{$\tau'$ is coarser than $\tau$}) if for every object $U \in \mathcal{C}$ every $\tau$-covering of $U$ is also a $\tau'$-covering of $U$.

    If $\tau$ and $\tau'$ are not comparable by inclusion, i.e., neither is finer or coarser than the other, they are said to be \hldef{incomparable}.
\end{definition}



\input{../_definitions/definition_locally_small_category.tex}

\input{../_definitions/definition_equivalence_of_categories.tex}

\input{../_concepts/lemma_category_of_presheaves_on_a_small_category_of_locally_small_value_is_locally_small.tex}

\input{../_definitions/definition_adjoint_functors_between_categories_unit_counit_of_adjoint_functors.tex}
\input{../_definitions/definition_site_of_opens_on_a_topological_space.tex}
\input{../_definitions/definition_initial_final_zero_objects_of_a_category.tex}

\input{../_definitions/definition_filtered_cofiltered_category.tex}
\input{../_definitions/definition_limit_and_colimit_of_a_diagram_in_a_category.tex}
\input{../_definitions/definition_projective_and_inductive_limits_in_categories.tex}

\input{../_definitions/definition_ind_pro_category_of_a_locally_small_category.tex}

\input{../_definitions/definition_product_and_coproduct_of_objects_in_a_category.tex}
\input{../_definitions/definition_equalizer_and_coequalizer_of_morphisms_in_a_category.tex}
\input{../_definitions/definition_system_in_a_category_indexed_by_a_directed_poset.tex}
\input{../_definitions/definition_essentially_small_category.tex}
\input{../_definitions/definition_monomorphism_and_epimorphism_in_categories.tex}

\input{../_definitions/definition_partially_ordered_set.tex}
\input{../_concepts/lemma_posets_correspond_to_small_filtered_thin_categories.tex}
\input{../_definitions/definition_generator_of_a_category.tex}
\input{../_definitions/definition_topos.tex}
\begin{theorem}[Functor Category of a Grothendieck Topos is a Topos]
    \label{theorem:functor_category_of_a_grothendieck_topos_indexed_by_a_small_category_is_a_grothendieck_topos}
    Let $I$ be a \CrefAndHyperrefIfExist{definition:locally_small_category}{small category}, and let $\mathcal{S}$ be a \CrefAndHyperrefIfExist{definition:topos}{Grothendieck topos}. Then the \CrefAndHyperrefIfExist{definition:diagram_in_a_category_indexed_by_a_small_category}{functor category $\mathrm{Fun}(I, \mathcal{S})$} is a Grothendieck topos.

    % More precisely, $\mathrm{Fun}(I, \mathcal{S})$ has all small limits and colimits, exponentials, a subobject classifier, and a generator, and it is equivalent to the category of sheaves of sets on the product site associated to the site defining $\mathcal{S}$ and $I$.
\end{theorem}
\input{../_definitions/definition_diagram_in_a_category_indexed_by_a_small_category.tex}


\subsubsection{Abelian categories}
\input{../_definitions/definition_abelian_category.tex}
\input{../_concepts/proposition_examples_of_abelian_categories.tex}
\input{../_definitions/definition_exact_functor_between_abelian_categories.tex}
\input{../_definitions/definition_has_enough_injectives_or_projectives_for_an_abelian_category.tex}
\input{../_concepts/lemma_an_object_of_abelian_category_with_enough_objects_of_a_class_on_the_right_left_has_right_left_resolution_by_the_class.tex}

\input{../_definitions/definition_left_right_derived_functors_of_a_right_left_exact_functor_between_abelian_categories_where_source_has_enough_projectives_injectives.tex}

\input{../_concepts/proposition_left_right_derived_objects_for_a_right_left_exact_functor_between_abelian_categories_are_well_defined.tex}
\input{../_concepts/lemma_projective_injective_complex_with_map_to_from_object_with_left_right_resolution_lifts_uniquely_up_to_chain_homotopy.tex}


\subsection{Homological algebra}
\input{../_definitions/definition_chain_complex_in_an_additive_category.tex}

\input{../_definitions/definition_bounded_complex_in_an_additive_category.tex}

\input{../_definitions/definition_homology_and_cohomology_objects_for_a_chain_complex_in_an_additive_category.tex}

\input{../_definitions/definition_quasi_isomorphism_of_chain_complexes_of_objects_in_an_abelian_category.tex}
\input{../_definitions/definition_mapping_cone_of_a_map_of_chain_cochain_complexes.tex}


\input{../_definitions/definition_canonical_truncation_of_chain_complexes_of_objects_in_an_abelian_category.tex}

\input{../_definitions/definition_left_right_resolution_of_a_class_of_objects_in_an_abelian_category.tex}

\subsection{Schemes}

\input{../_definitions/definition_scheme.tex}
\input{../_definitions/definition_morphism_of_schemes.tex}
\input{../_definitions/definition_scheme_over_a_scheme.tex}
\input{../_definitions/definition_affine_morphism_of_schemes.tex}
\input{../_definitions/definition_finite_type_morphism_of_schemes.tex}
\input{../_definitions/definition_finitely_presented_algebra_over_a_not_necessarily_commutative_ring.tex}

\input{../_definitions/definition_additive_group_scheme_over_a_scheme.tex}

\input{../_definitions/definition_dimension_of_a_scheme.tex}


\section{Presheaves and sheaves}


\input{../_definitions/definition_sieve_on_an_object_in_a_category.tex}
\input{../_definitions/definition_pullback_sieve_of_an_object_in_a_category_via_a_morphism_to_the_object.tex}



\input{../_definitions/definition_sieve_on_an_object_of_a_category_generated_by_a_family_of_morphisms.tex}

\input{../_definitions/definition_grothendieck_topology_on_a_category_site_covering_sieve_topologically_generating_family.tex}


\input{../_definitions/definition_category_of_objects_over_under_a_fixed_object_in_a_category.tex}

\input{../_concepts/lemma_slice_category_has_final_object.tex}

\input{../_definitions/definition_site_induced_by_a_site_on_an_over_category.tex}




\section{Derived categories}


\import{../_excerpts}{excerpts_derived_categories.tex}

\input{../_concepts/proposition_examples_of_abelian_categories.tex}

\begin{notation} \label{notation:notations_for_homotopy_and_derived_categories_of_sheaves_of_modules_on_a_ringed_site}
    Let $((\calC,J), \calO)$ be a \CrefAndHyperrefIfExist{definition:ringed_site}{ringed site} where $(\calC, J)$ is essentially small. 
    \TODO{The essentially smallness hypothesis might not be strictly needed to have that the category of sheaves of O-modules is abelian.}
    
    \begin{enumerate}
        \item The \CrefAndHyperrefIfExist{definition:homotopy_category_of_chain_complexes_of_an_additive_category}{homotopy category} of the category of \CrefAndHyperrefIfExist{definition:module_over_a_sheaf_of_rings_on_a_site}{$\calO$-modules}, which \CrefAndHyperrefIfExist{proposition:examples_of_abelian_categories}{is} abelian, is often denoted by notations such as \hl{$K(\calC, \calO)$} or \hl{$K(\calO)$}. All of the usual superscripts apply --- we may thus speak of \hl{$K^{?,??}(\calC, \calO)$} or \hl{$K^{?,??}(\calO)$} for $? \in \{+,-,b\}$ and $?? \in \{+,-,b,(\text{blank})\}$. 
        
        If $(\calC, J)$ is a site on some ``space'', e.g. a scheme or topological space, $X$, then it is also usual to denote the homotopy category by \hl{$K(X, \calO)$}. We may also speak of \hl{$K^{?,??}(X, \calO)$} for $? \in \{+,-,b\}$ and $?? \in \{+,-,b,(\text{blank})\}$. 


        \item Similarly, it is customary to denote the \CrefAndHyperrefIfExist{definition:derived_category_of_an_abelian_category}{derived category} of the category of \CrefAndHyperrefIfExist{definition:module_over_a_sheaf_of_rings_on_a_site}{$\calO$-modules} of the category of $\calO$-modules by notations such as \hl{$D(\calC,\calO)$} or \hl{$D(\calC,\calO)$}. All of the usual superscripts apply --- we may thus speak of \hl{$D^{?}(\calC, \calO)$} or \hl{$D^{?}(\calO)$} for $? \in \{+,-,b\}$. 


        If $(\calC, J)$ is a site on some ``space'', e.g. a scheme or topological space, $X$, then it is also usual to denote the homotopy category by \hl{$D(X, \calO)$}. We may also speak of \hl{$D^{?}(X, \calO)$} for $? \in \{+,-,b\}$. 
    \end{enumerate}

\end{notation}

\input{../_concepts/lemma_applying_biadd_func_to_res_is_defined_up_to_quasi_iso_and_agrees_with_the_tot_complex_of_the_double_complex_of_the_biadd_func_on_the_two_res.tex}
\input{../_concepts/proposition_total_derived_functors_for_biadditive_functors_on_abelian_categories_are_well_defined_if_both_source_categories_have_enough_projectives_injectives.tex}
\input{../_definitions/definition_left_and_right_total_derived_functors_of_biadditive_functors_of_abelian_categories.tex}
\input{../_definitions/definition_derived_tensor_product_on_bounded_above_derived_categories_of_abelian_categories_for_a_biadditive_right_exact_functor.tex}

\section{Miscellaneous definitions}

\input{../_definitions/definition_commutative_ring.tex}
\input{../_definitions/definition_ideal_of_a_ring.tex}
\input{../_definitions/definition_local_ring.tex}
\input{../_definitions/definition_prime_and_maximal_ideal_of_a_ring.tex}
\input{../_definitions/definition_local_morphism_of_local_rings.tex}


\input{../_definitions/definition_topological_space.tex}

\input{../_definitions/definition_locally_closed_subset_of_a_topological_space.tex}

\input{../_definitions/definition_ring.tex}
\input{../_definitions/definition_constant_sheaf_on_a_site_with_sheafification.tex}

\input{../_definitions/definition_module_of_a_ring.tex}
\input{../_definitions/definition_tensor_product_of_bimodules_of_rings.tex}
\input{../_definitions/definition_n_ary_additive_functor_between_additive_categories.tex}

\input{../_definitions/definition_open_and_closed_immersions_of_schemes.tex}
\input{../_definitions/definition_cartesian_product_of_two_objects_in_a_category_over_an_object.tex}
\input{../_definitions/definition_locally_noetherian_and_noetherian_scheme.tex}
\input{../_definitions/definition_integral_element_over_a_ring.tex}
\input{../_definitions/definition_regular_at_a_point_for_a_scheme_regular_scheme_nonsingular_scheme.tex}
\input{../_definitions/definition_finite_type_morphism_of_schemes.tex}
\input{../_definitions/definition_dimension_of_a_scheme.tex}
\input{../_definitions/definition_local_ring.tex}
\input{../_definitions/definition_presheaf_on_a_topological_space.tex}
\input{../_definitions/definition_stalk_of_a_presheaf_on_a_topological_space_at_a_point.tex}